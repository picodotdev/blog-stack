<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-16)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Doble barra de botones con Apache Tapestry | Blog Bitix</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/feed.atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><script type="text/javascript">document.write("<div class=\"pageloading-mask\"><div></div></div>");</script><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-8"><nav role="navigation"><ul class="list-unstyled list-inline"><li><a href="/">Inicio</a></li><li><a href="/archive">Archivo</a></li><li><a href="/faq">Preguntas frecuentes</a></li><li><a href="/faq#aggregate">¿Quieres agregar tu bitácora?</a></li></ul></nav></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="imagen-cabecera"><div class="imagen"><div class="col-xs-12 col-sm-12 col-md-12" id="billboard"></div></div></div></div></div></div></header><div class="container-fluid content"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry"><span itemprop="headline">Doble barra de botones con Apache Tapestry</span></a></h2></header><div class="row labels"><div class="col-md-12"><a class="label" href="/label/programacion"><img title="programacion" alt="programacion" src="/assets/images/labels/programacion.png"/></a><a class="label" href="/label/java"><img title="java" alt="java" src="/assets/images/labels/java.png"/></a><a class="label" href="/label/software"><img title="software" alt="software" src="/assets/images/labels/software.png"/></a><a class="label" href="/label/tapestry"><img title="tapestry" alt="tapestry" src="/assets/images/labels/tapestry.png"/></a></div></div><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://picodotdev.github.io/blog-bitix/">Blog Bitix</a>, <a href="http://picodotdev.github.io/blog-bitix/2014/08/doble-barra-de-botones-con-apache-tapestry/"><span itemprop="sameAs">artículo original</span></a></span></div><div><span datetime="2014-08-29T11:04" itemprop="datePublished">Publicado el viernes, 29 de agosto de 2014 a las 11:04 UTC</span></div><div><span>
Etiquetado como
blog-stack, planeta-codigo, <a href="/label/programacion"><span itemprop="articleSection">programacion</span></a>, <a href="/label/software"><span itemprop="articleSection">software</span></a>, <a href="/label/tapestry"><span itemprop="articleSection">tapestry</span></a>, <a href="/label/java"><span itemprop="articleSection">java</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="float: right; text-align: right;"> 
 <img src="http://picodotdev.github.io/blog-bitix/images/custom/logotipos/tapestry.png" alt="Apache Tapestry" title="Apache Tapestry" />
 <br /> 
</div> 
<p>Por motivos de usabiliad en algunas p&aacute;ginas se incluyen dos barra de botones, una antes de una larga secci&oacute;n y otra despu&eacute;s. El motivo de la doble barra de botones inicial es que no sea necesario hacer &laquo;scroll&raquo; hasta el final de la p&aacute;gina para acceder a los botones y realizar la acci&oacute;n que permitan. Por el contrario, inlcuir la barra de botones al final de la p&aacute;gina permite que una vez seleccionados los elementos o revisado el contenido de la secci&oacute;n hacer disponibles las acciones que es probable que se quieran realizar.</p> 
<div style="text-align: center;"> 
 <a href="http://picodotdev.github.io/blog-bitix/images/custom/posts/39/doble-barra-botones.png" title="Doble barra de botones"><img src="http://picodotdev.github.io/blog-bitix/images/custom/posts/39/doble-barra-botones-thumb.png" /></a> 
</div> 
<p>Dependiendo del framework web que utilicemos podremos hacerlo de una o varias formas pero de lo que estamos seguros es que copiar y pegar haciendo que el c&oacute;digo est&eacute; duplicado no es una buena idea por los problemas de mantenimiento que puede suponer. Pero crear una peque&ntilde;a plantilla o archivo exclusivo para incluir la barra de botones tampoco es la soluci&oacute;n ideal, &iquest;por que? pues porque creando un archivo espec&iacute;fico con la botonera puede que nos ocasione un problema que denominar&eacute; de &laquo;microgesti&oacute;n&raquo;, es decir, nos obliga a crear un mont&oacute;n de peque&ntilde;os archivos peque&ntilde;itos y hacer referencia o utilizar el mecanismo de inclusi&oacute;n que dispongamos para usar el contenido en unos de otros. En una aplicaci&oacute;n grande esta microgesti&oacute;n si nos vemos obligados a ella puede llegar a ser molesta al desarrollar cuanto menos.</p> 
<p>&iquest;Como se puede evitar? En el framework <a href="http://tapestry.apache.org">Apache Tapestry</a> la doble botonera puede hacerse de varias formas una de ellas es crear un componente pero esto nos obliga a crear un archivo para la clase java y probablemente tambien un archivo de plantilla con el contenido html causando el problema de la microgesti&oacute;n. Pero en Tapestry tambi&eacute;n podemos hacer uso del <a href="http://tapestry.apache.org/component-templates.html">componente block</a> que sirve para incluir en &eacute;l cierto contenido y el <a href="http://tapestry.apache.org/5.3/apidocs/org/apache/tapestry5/corelib/components/Delegate.html">componente delegate</a> que sirve para emitir el contenido entre otras cosas de un componente block. Usando estos dos componentes podemos evitar la microgesti&oacute;n definiendo todo en un mismo archivo, adem&aacute;s al tener todo en un mismo archivo el c&oacute;digo ser&aacute; m&aacute;s f&aacute;cilmente legible, qued&aacute;ndonos en un ejemplo de la siguiente forma:</p> 
<p></p>
<div>
 <script src="https://gist.github.com/picodotdev/2e57dd8f35a9fe456471.js?file=ProductoAdmin.tml"></script> 
 <noscript>
  <pre><code>&lt;!DOCTYPE html&gt;
&lt;html t:type=&quot;layout&quot; titulo=&quot;Administraci&oacute;n de productos&quot; xmlns:t=&quot;http://tapestry.apache.org/schema/tapestry_5_3.xsd&quot; xmlns:p=&quot;tapestry:parameter&quot;&gt;

...

&lt;t:block id=&quot;edicionBlock&quot;&gt;
	&lt;t:remove&gt;
        En otros frameworks la l&oacute;gica para obtener el t&iacute;tulo del bloque seg&uacute;n se trate de un alta o una modificaci&oacute;n,
        probablemente se hiciese metiendo l&oacute;gica en la plantilla de presentaci&oacute;n, dado que Tapestry permite llamar a m&eacute;todos
        de la clase Java asociada al componente es mejor dejar esa l&oacute;gica en el c&oacute;digo Java de esta manera la plantilla ser&aacute; m&aacute;s 
        sencilla y clara adem&aacute;s de aprovecharnos del compilador. labels es un m&eacute;todo definido en la p&aacute;gina admin.producto
        que devuelve un mapa.
    &lt;/t:remove&gt;
	&lt;h1&gt;${labels.get('titulo')}&lt;/h1&gt;

	&lt;t:form t:id=&quot;form&quot; context=&quot;producto.id&quot; validate=&quot;producto&quot; clientValidation=&quot;none&quot; class=&quot;well&quot; role=&quot;form&quot;&gt;
		&lt;t:errors class=&quot;literal:alert alert-danger&quot; /&gt;

		&lt;t:delegate to=&quot;botonesEdicionBlock&quot;/&gt;

		&lt;div style=&quot;margin-top: 10px;&quot;&gt;
			&lt;div class=&quot;form-group&quot;&gt;
				&lt;t:label for=&quot;nombre&quot; /&gt;
				&lt;div class=&quot;controls&quot;&gt;
					&lt;input t:type=&quot;textfield&quot; t:id=&quot;nombre&quot; value=&quot;producto.nombre&quot; size=&quot;100&quot; label=&quot;Nombre&quot; /&gt;
				&lt;/div&gt;
			&lt;/div&gt;
	
			&lt;div class=&quot;form-group&quot;&gt;
				&lt;t:label for=&quot;descripcion&quot; /&gt;
				&lt;div class=&quot;controls&quot;&gt;
					&lt;input t:type=&quot;textarea&quot; t:id=&quot;descripcion&quot; value=&quot;producto.descripcion&quot; label=&quot;Descripci&oacute;n&quot; /&gt;
				&lt;/div&gt;
			&lt;/div&gt;
	
			&lt;div class=&quot;form-group&quot;&gt;
				&lt;t:label for=&quot;cantidad&quot; /&gt;
				&lt;div class=&quot;controls&quot;&gt;
					&lt;input t:type=&quot;textfield&quot; t:id=&quot;cantidad&quot; value=&quot;producto.cantidad&quot; size=&quot;4&quot; label=&quot;Cantidad&quot; class=&quot;numeric&quot;/&gt;
				&lt;/div&gt;
			&lt;/div&gt;
	
			&lt;div class=&quot;form-group&quot;&gt;
				&lt;t:label for=&quot;fecha&quot; /&gt;
				&lt;div class=&quot;controls&quot;&gt;
					&lt;div class=&quot;input-group&quot;&gt;
						&lt;input t:type=&quot;textfield&quot; t:id=&quot;fecha&quot; type=&quot;date&quot; value=&quot;producto.fecha&quot; label=&quot;Fecha&quot; /&gt;
						&lt;span class=&quot;input-group-addon&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;&lt;/span&gt;
					&lt;/div&gt;				
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;

		&lt;t:delegate to=&quot;botonesEdicionBlock&quot;/&gt;
	&lt;/t:form&gt;
&lt;/t:block&gt;

&lt;t:block id=&quot;botonesEdicionBlock&quot;&gt;
	&lt;div class=&quot;btn-toolbar&quot;&gt;
		&lt;input t:type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;prop:labels.get('guardar')&quot; role=&quot;button&quot;/&gt;
		&lt;t:if test=&quot;producto.id&quot;&gt;
			&lt;a t:type=&quot;eventlink&quot; event=&quot;eliminar&quot; context=&quot;producto.id&quot; role=&quot;button&quot; class=&quot;btn btn-danger&quot; style=&quot;color: white;&quot;&gt;Eliminar&lt;/a&gt;
		&lt;/t:if&gt;
		&lt;input t:type=&quot;submit&quot; class=&quot;btn btn-danger&quot; value=&quot;Cancelar&quot; mode=&quot;cancel&quot; role=&quot;button&quot;/&gt;
	&lt;/div&gt;
&lt;/t:block&gt;

&lt;/html&gt;</code></pre>
 </noscript>
</div> 
<p></p> 
<p>En <a href="https://grails.org/">Grails</a> por poner un ejemplo de un framework que no usa el concepto de componentes la forma habitual de hacerlo es usando un g:include y con ello teniendo microgesti&oacute;n. Pero retorciendo un poco (creo) en este caso el uso de Grails podemos emplear la etiqueta g:set para establecer el contenido de la botonera y emitir su contenido dos veces en el gsp.</p> 
<p></p>
<div>
 <script src="https://gist.github.com/picodotdev/2e57dd8f35a9fe456471.js?file=ProductoAdmin.gsp"></script> 
 <noscript>
  <pre><code>...

&lt;g:set var=&quot;botonesEdicionBlock&quot;&gt;
	&lt;div class=&quot;btn-toolbar&quot;&gt;
		&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;${message(code: 'guardar')}&quot; role=&quot;button&quot;/&gt;
		&lt;g:if test=&quot;${producto.id}&quot;&gt;
			&lt;a action=&quot;eliminar&quot; params=&quot;${[id: producto.id]}&quot; role=&quot;button&quot; class=&quot;btn btn-danger&quot; style=&quot;color: white;&quot;&gt;Eliminar&lt;/a&gt;
		&lt;/t:if&gt;
		&lt;input type=&quot;submit&quot; class=&quot;btn btn-danger&quot; value=&quot;{message(code: 'guardar')}&quot; role=&quot;button&quot;/&gt;
	&lt;/div&gt;
&lt;/g:set&gt;

&lt;g:form ...&gt;
	...

	${botonesEdicionBlock}

	&lt;div style=&quot;margin-top: 10px;&quot;&gt;
		...
	&lt;/div&gt;

	${botonesEdicionBlock}
&lt;/t:form&gt;</code></pre>
 </noscript>
</div> 
<p></p> 
<p>El c&oacute;digo completo de este ejemplo del caso de Tapestry est&aacute; en un <a href="https://github.com/picodotdev/elblogdepicodev/tree/master/PlugInTapestry">repositorio de GitHub</a>. Si est&aacute;s interesado en conocer m&aacute;s en profundidad como funciona Tapestry y sus m&uacute;ltiples &laquo;killer features&raquo;, bastantes mucho m&aacute;s importantes que lo explicado en este art&iacute;culo, puedes descargarte el <a href="http://picodotdev.github.io/blog-bitix/2014/02/libro-sobre-desarrollo-de-aplicaciones-con-apache-tapestry/">libro PlugIn Tapestry</a> que he escrito, de forma gratuita, sin registros, y en varios formatos &iquest;que m&aacute;s puedes pedir?. Y si te interesa el tema puedes suscribirte al <a href="http://feeds.feedburner.com/blog-bitix/">canal RSS de esta bit&aacute;cora</a> para no perderte nada del nuevo contenido que publique, no solo sobre Tapestry, sino tambi&eacute;n sobre Java, Linux, …</p> 
<p>Referencia:<br /> <a href="http://picodotdev.github.io/blog-bitix/2014/02/libro-sobre-desarrollo-de-aplicaciones-con-apache-tapestry/">Libro PlugIn Tapestry</a><br /> <a href="http://picodotdev.github.io/blog-bitix/categories/tapestry/">M&aacute;s art&iacute;culos sobre Apache Tapestry</a></p></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry" st_title="Doble barra de botones con Apache Tapestry | Blog Bitix"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><a id="comments"></a><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "blog-bitix";
var disqus_title = "Doble barra de botones con Apache Tapestry";
var disqus_url = "http://picodotdev.github.io/blog-bitix/2014/08/doble-barra-de-botones-con-apache-tapestry/";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><aside class="col-xs-12 col-sm-12 col-md-4"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo con tus amigos!</p><div class="social-networks"><!-- Facebook --><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="standard" data-href="http://www.blogstack.info/" class="fb-like"></div><!-- Google+ --><g:plusone size="standard" annotation="inline" href="http://www.blogstack.info/" width="310"></g:plusone></div></section><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/programacion/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta programacion</a></li><li><a href="/label/software/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software</a></li><li><a href="/label/tapestry/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta tapestry</a></li><li><a href="/label/java/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta java</a></li></ul></section><div id="bigRectangle"></div><section id="lastPosts"></section><div class="row"><div class="col-xs-3 col-md-2"><div id="wideSkycraper"></div></div></div><section id="lastPosts_0"></section></aside></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2014
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 857,
      "url" : "http://www.blogstack.info/post/blogbitix/2014/08/doble-barra-de-botones-con-apache-tapestry"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "blogbitix",
      "name" : "Blog Bitix"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotBillboard" : "1397019380",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      },
      "ad" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotBillboard" : "1397019380",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      }
    }
  ]
]); });</script></body></html>