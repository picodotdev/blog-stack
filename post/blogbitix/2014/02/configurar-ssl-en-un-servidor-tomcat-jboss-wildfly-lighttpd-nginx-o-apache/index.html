<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-3)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-8" id="horizontalSkycraper"></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div></header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><nav role="navigation"><ul class="nav nav-pills menu"><li><a href="/">Inicio</a></li><li><a href="/faq">Preguntas frecuentes</a></li></ul></nav></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><header><h2><a href="/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache"><span itemprop="headline">Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache</span></a></h2></header><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://picodotdev.github.io/blog-bitix/">Blog Bitix</a>, <a href="http://picodotdev.github.io/blog-bitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-apache/"><span itemprop="sameAs">entrada original</span></a></span></div><div><span datetime="2014-02-28T15:58" itemprop="datePublished">Publicado el viernes, 28 de febrero de 2014 a las 15:58 UTC</span></div><div><span>
Etiquetado como
<a href="/label/planeta-codigo"><span itemprop="articleSection">planeta-codigo</span></a>
,
<a href="/label/software"><span itemprop="articleSection">software</span></a>
,
<a href="/label/planeta-arch-linux"><span itemprop="articleSection">planeta-arch-linux</span></a>
,
<a href="/label/planeta-linux"><span itemprop="articleSection">planeta-linux</span></a>
,
<a href="/label/software-libre"><span itemprop="articleSection">software-libre</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_via="blogstack" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="float: right;"> 
 <img src="http://picodotdev.github.io/blog-bitix/images/custom/logotipos/openssl.png" alt="OpenSSL" title="OpenSSL" /> 
</div> 
<p>En entradas anteriores he explicado <a href="http://elblogdepicodev.blogspot.com.es/2013/11/introduccion-la-criptografia-e-inicio-con-gpg.html">en que consiste la criptograf&iacute;a y GPG</a> y como podemos usarlo a nivel personal para firmar y cifrar archivos y <a href="http://elblogdepicodev.blogspot.com.es/2013/11/como-usar-gpg-con-evolution.html">firmar correos electr&oacute;nicos con el cliente de correo Evolution</a>. Tambi&eacute;n he comentado <a href="http://picodotdev.github.io/blog-bitix/2014/02/generar-y-convertir-claves-y-certificados-con-openssl/">como crer un certificado con OpenSSL y como convertirlo a diferentes formatos</a>. En esta entrada explicar&eacute; como usar un certificdo creado con OpenSSL para proporcionar acceso SSL al sevidor web o servidor de aplicaciones, explicar&eacute; cual es la configuraci&oacute;n necesaria para los servidores <a href="http://tomcat.apache.org/">Tomcat</a>, <a href="http://www.lighttpd.net/">Lighttpd</a>, <a href="http://www.jboss.org/jbossas">JBoss</a>/<a href="http://wildfly.org/">WildFly</a>, <a href="http://nginx.org/">nginx</a> y <a href="http://www.apache.org/">Apache</a>.</p> 
<p>Usar una conexi&oacute;n SSL y un certificado de servidor evita que los datos entre el navegador del usuario y el servidor sean legibles para una tercera parte siendo mayor la seguridad en nuestras aplicaciones o dando mayor confianza al usuario y usando algunos certificados al aparecer en la barra de navegaci&oacute;n del navegador en verde el nombre de la entidad detr&aacute;s de la p&aacute;gina evitando problemas de suplantaci&oacute;n de identidad.</p> 
<h3>Configurar SSL en Tomcat</h3> 
<p>Tomcat es uno de los servidores de aplicaciones m&aacute;s usado para desplegar aplicaciones web desarrolladas con el lenguaje Java. La forma que explicar&eacute; a continuaci&oacute;n sobre como obtener cifrado SSL con este servidor ser&aacute; usando APR (Apache Portable Runtime). Previamente deberemos haber generado un certificado SSL con OpenSSL, una vez dispogamos del nuestro aunque sea autofirmado debemos a&ntilde;adir la siguiente configuraci&oacute;n al archivo server.xml:</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=server.xml"></script> 
 <noscript>
  <pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;
    maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;
    clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;
    SSLCertificateFile=&quot;${catalina.home}/conf/localhost.crt&quot;
    SSLCertificateKeyFile=&quot;${catalina.home}/conf/localhost.key&quot;/&gt;</code></pre>
 </noscript>
</div> 
<p>Hay que activar el conector SSL (el anterior xml) y disponer del certificado y su clave privada, ambos archivos se indican en los atributos SSLCertificateFile y SSLCertificateKeyFile. Si queremos usar el puerto estandar del protocolo HTTPS cambiaremos el valor del puerto de 8443 a 443 en el atributo port. La configuraci&oacute;n es la misma tanto para Tomcat 7 como para Tomcat 8.</p> 
<h3>Configurar SSL en JBoss</h3> 
<p>JBoss es otro de los servidores que es ampliamente usado para desplegar aplicaciones Java y que proporciona un perfil completo de las especificaciones EE al contrario que Tomcat que solo proporciona un perfil web. La configuraci&oacute;n que hay que indicar en JBoss 7.1 es la siguiente:</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=standalone-jboss.xml"></script> 
 <noscript>
  <pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;true&quot;&gt;
    &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot; redirect-port=&quot;8443&quot;/&gt;
    &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;&gt;
        &lt;ssl name=&quot;jboss&quot; certificate-key-file=&quot;${jboss.server.config.dir}/localhost.key&quot; certificate-file=&quot;${jboss.server.config.dir}/localhost.crt&quot;/&gt;
    &lt;/connector&gt;
    ...
&lt;/subsystem&gt;</code></pre>
 </noscript>
</div> 
<h3>Configurar SSL en WildFly</h3> 
<p>JBoss cambi&oacute; recientemente el nombre de la versi&oacute;n community de JBoss, esta ha pasado a llamarse WildFly y la comercial con soporte sigue llamandose JBoss. WildFly soporta las especificaciones de EE 7. En WildFly el contenedor web es <a href="http://undertow.io/">undertow</a> en vez de Tomcat y cambia la configuraci&oacute;n de SSL. Senecesita crear un keystore JKS que contenga tanto la clave como el certificado.</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=standalone-wildfly.xml"></script> 
 <noscript>
  <pre><code>&lt;security-realms&gt;
    ...
    &lt;security-realm name=&quot;SecureRealm&quot;&gt;
        &lt;server-identities&gt;
            &lt;ssl&gt;
                &lt;keystore path=&quot;localhost.keystore&quot; relative-to=&quot;jboss.server.config.dir&quot; keystore-password=&quot;wildfly&quot;/&gt;
            &lt;/ssl&gt;
        &lt;/server-identities&gt;
    &lt;/security-realm&gt;
&lt;/security-realms&gt;
...
&lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:1.0&quot;&gt;
    ...
    &lt;server name=&quot;default-server&quot;&gt;
        &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot;/&gt;
        &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; security-realm=&quot;SecureRealm&quot;/&gt;
        &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;
            &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;
            &lt;filter-ref name=&quot;server-header&quot;/&gt;
            &lt;filter-ref name=&quot;x-powered-by-header&quot;/&gt;
        &lt;/host&gt;
    &lt;/server&gt;
    ...
&lt;/subsystem&gt;</code></pre>
 </noscript>
</div> 
<h3>Configurar SSL en Lighttpd</h3> 
<p>Lighttpd es un servidor web de los denominados ligeros que aunque posiblemente no tiene toda la versatilidad de Apache ofrece un mayor rendimiento. Para activar SSL en lighttpd debemos modificar el archivo de configuraci&oacute;n y a&ntilde;adir lo siguiente:</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=lighttpd.conf"></script> 
 <noscript>
  <pre><code>$SERVER[&quot;socket&quot;] == &quot;:443&quot; {
    ssl.engine = &quot;enable&quot; 
    ssl.pemfile = &quot;localhost.pem&quot; 
}</code></pre>
 </noscript>
</div> 
<p>Quiz&aacute; debamos cambiar el propietario y permisos con:</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=script-1.sh"></script> 
 <noscript>
  <pre><code>$ chown root:root /etc/lighttpd/ssl/localhost.pem
$ chmod 400 /etc/lighttpd/ssl/localhost.pem</code></pre>
 </noscript>
</div> 
<p>El archivo localhost.pem contiene la clave y el certificado.</p> 
<h3>Configurar SSL en nginx</h3> 
<p>El proceso es similar para el servidor web nginx aunque l&oacute;gicamente se usan las directivas propias de configuraci&oacute;n de nginx.</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=nginx.conf"></script> 
 <noscript>
  <pre><code>http {
   server {
         listen       443;
         server_name  localhost;
 
         ssl                  on;
         ssl_certificate      localhost.pem;
         ssl_certificate_key  localhost.key;
 
         ssl_session_timeout  5m;
 
         ssl_protocols  SSLv2 SSLv3 TLSv1;
         ssl_ciphers  HIGH:!aNULL:!MD5;
         ssl_prefer_server_ciphers   on;
 
         location / {
             root   /usr/share/nginx/html;
             index  index.html index.htm;
         }
     }
}</code></pre>
 </noscript>
</div> 
<h3>Configurar SSL en Apache</h3> 
<p>Apache es uno de los servidores web m&aacute;s utilizados para servir sitios web en internet. Para activar SSL en Apache debemos modificar el archivo de configuraci&oacute;n, a&ntilde;adiendo la siguiente configuraci&oacute;n que activa el soporte de SSL y especifica el archivo de clave y certificado, nada distinto de lo necesario en los servidores anteriores:</p> 
<div>
 <script src="https://gist.github.com/picodotdev/9275133.js?file=httpd.conf"></script> 
 <noscript>
  <pre><code>LoadModule ssl_module modules/mod_ssl.so

Listen 443
&lt;VirtualHost *:443&gt;
    ServerName www.example.com
    SSLEngine on
    SSLCertificateFile localhost.crt
    SSLCertificateKeyFile localhost.key
&lt;/VirtualHost&gt;</code></pre>
 </noscript>
</div> 
<p>Referencia:<br /> <a href="https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html">Tomcat</a><br /> <a href="http://docs.jboss.org/jbossweb/7.0.x/ssl-howto.html">JBoss</a><br /> <a href="https://community.jboss.org/message/824152#824152">WildFly (Undertow)</a><br /> <a href="http://redmine.lighttpd.net/projects/1/wiki/HowToSimpleSSL">Lighttpd</a><br /> <a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html">nginx</a><br /> <a href="http://httpd.apache.org/docs/current/ssl/ssl_howto.html">Apache</a></p></span></div><section><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_via="blogstack" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache" st_title="Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache | Blog Bitix"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "blog-bitix";
var disqus_title = "Configurar SSL en un servidor Tomcat, JBoss, WildFly, Lighttpd, nginx o Apache";
var disqus_url = "http://picodotdev.github.io/blog-bitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-apache/";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><aside class="col-xs-12 col-sm-12 col-md-4"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo con tus amigos!</p><div class="social-networks"><!-- Facebook --><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="standard" data-href="http://www.blogstack.info/" class="fb-like"></div><!-- Google+ --><g:plusone size="standard" annotation="inline" href="http://www.blogstack.info/" width="310"></g:plusone></div></section><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/planeta-codigo/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta planeta-codigo</a></li><li><a href="/label/software/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software</a></li><li><a href="/label/planeta-arch-linux/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta planeta-arch-linux</a></li><li><a href="/label/planeta-linux/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta planeta-linux</a></li><li><a href="/label/software-libre/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software-libre</a></li></ul></section><div id="bigRectangle"></div><section id="lastPosts"></section><div class="row"><div class="col-xs-3 col-md-2"><div id="wideSkycraper"></div></div></div><section id="lastPosts_0"></section></aside></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2014
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 33,
      "url" : "http://www.blogstack.info/post/blogbitix/2014/02/configurar-ssl-en-un-servidor-tomcat-jboss-wildfly-lighttpd-nginx-o-apache"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "blogbitix",
      "name" : "Blog Bitix"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      }
    }
  ]
]); });</script></body></html>