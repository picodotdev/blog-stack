<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-16)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>AngularJS, gracias por los servicios prestados | Koalite</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/feed.atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><script type="text/javascript">document.write("<div class=\"pageloading-mask\"><div></div></div>");</script><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-8" id="horizontalSkycraper"></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div></header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><nav role="navigation"><ul class="nav nav-pills menu"><li><a href="/">Inicio</a></li><li><a href="/archive">Archivo</a></li><li><a href="/faq">Preguntas frecuentes</a></li></ul></nav></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados"><span itemprop="headline">AngularJS, gracias por los servicios prestados</span></a></h2></header><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">Juan María Hernández</span> en la bitácora <a href="http://blog.koalite.com/">Koalite</a>, <a href="http://feedproxy.google.com/~r/KoalitesBlog/~3/hXjjOV_A6os/"><span itemprop="sameAs">artículo original</span></a></span></div><div><span datetime="2014-06-23T05:06" itemprop="datePublished">Publicado el lunes, 23 de junio de 2014 a las 05:06 UTC</span></div><div><span>
Etiquetado como
opinion, angularjs, development, rant, <a href="/label/javascript"><span itemprop="articleSection">javascript</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><p><img src="http://blog.koalite.com/wp-content/uploads/AngularJS-large.png" alt="Logo de AngularJS" /></p> 
<p>Hace algo m&aacute;s de un a&ntilde;o empec&eacute; a jugar con <a href="http://blog.koalite.com/tag/angularjs/">AngularJS</a>, en parte por curiosidad y en parte por la necesidad que ten&iacute;a en ese momento de desarrollar una aplicaci&oacute;n web para dispositivos m&oacute;viles. Seis meses depu&eacute;s coment&eacute; por aqu&iacute; la que, hasta entonces, hab&iacute;a sido <a href="http://blog.koalite.com/2013/10/angularjs-6-meses-despues/" title="AngularJS, 6 meses despu&eacute;s">una experiencia muy satisfactoria con AngularJS</a>. </p> 
<p>Siempre he tratado de mantener una postura medianamente objetiva, intentando identificar los que (al menos para mi caso de uso concreto) eran <a href="http://blog.koalite.com/2013/06/angularjs-lo-bueno-y-lo-malo/" title="AngularJS: Lo bueno y lo malo">los puntos fuertes y d&eacute;biles</a> de angularjs, y tengo que reconocer que, con el tiempo, las partes que no me gustan est&aacute;n empezando a ganarle la partida a las partes que s&iacute;.</p> 
<h3>Al C&eacute;sar lo que es del C&eacute;sar</h3> 
<p>Antes de empezar a quejarme, creo que es importante dejar una cosa clara: <strong>la aplicaci&oacute;n que desarrollamos usando angularjs est&aacute; siendo un &eacute;xito</strong>. Esto no se trata de haber tenido una mala experiencia “comercial” y echarle la culpa de ella a una decisi&oacute;n tecnol&oacute;gica. </p> 
<p>Lo m&aacute;s importante es que, probablemente, en ese momento <strong>conseguir este &eacute;xito no hubiese sido posible sin la ayuda de angularjs</strong> (o alg&uacute;n framework parecido). </p> 
<p>Cuando empezamos el desarrollo de esta aplicaci&oacute;n, nuestro equipo no ten&iacute;a experiencia en el desarrollo de aplicaciones complejas usando HTML5/JS, y angularjs nos dio todo lo que necesit&aacute;bamos, no s&oacute;lo por el framework en si, sino por “guiarnos” hacia una forma de estructurar nuestro c&oacute;digo y un <a href="http://blog.koalite.com/2013/09/node-js-de-servidor-a-navaja-suiza/" title="Node.js, de servidor a navaja suiza">conjunto de herramientas basadas en javascript</a> que nos permitieron desarrollar la aplicaci&oacute;n en un tiempo relativamente corto y aun as&iacute; cubrir con creces nuestras expectativas.</p> 
<p>Desde este punto de vista, no me arrepiento en absoluto de haber elegido angularjs en aquel momento ya que nos permiti&oacute; cumplir el objetivo que ten&iacute;amos.</p> 
<h3>Lo que me empieza a cansar</h3> 
<p>De todos los puntos de fricci&oacute;n que he ido notando con angularjs, lo peor, para mi, ha sido la manera de estructurar el c&oacute;digo. Tender a <strong>encajar todo dentro de las primitivas de angular</strong> ( <code>Controller</code>, <code>Scope</code>, <code>Service</code>, <code>Directive</code>, <code>Filter</code>) nos ha llevamos a hacer <a href="http://blog.koalite.com/2013/11/mejorando-el-paso-de-parametros-entre-controladores-en-angularjs/" title="Mejorando el paso de par&aacute;metros entre controladores en AngularJS">cosas un tanto retorcidas</a> para resolver problemas aparentemente sencillos.</p> 
<p>Soy consciente de nuestra parte de culpa porque realmente podr&iacute;amos haber puesto m&aacute;s &eacute;nfasis en trabajar con funciones y objetos tradicionales, pero angularjs te “lleva” a encapsularlo todo en sus primitivas, y a juzgar por los proyectos que se suelen ver por ah&iacute;, creo que no somos los &uacute;nicos a los que les ha pasado esto.</p> 
<p>El encorsertar toda la aplicaci&oacute;n dentro de las primitivas de angularjs tiene un problema adicional, y es que obliga a depender de los <a href="http://blog.koalite.com/2013/06/angularjs-tests-unitarios-y-de-extremo-a-extremo/" title="AngularJS: Tests Unitarios y de Extremo a Extremo">sistemas de testing</a> de angular para poder construir m&oacute;dulos, inyectar dependencias y dem&aacute;s, lo que hace que tus tests resulten innecesariamente complicados.</p> 
<p>Nuestra aproximaci&oacute;n actual a este problema se basa en intentar <a href="http://blog.koalite.com/2013/07/refactorizando-tests-unitarios-hacia-tests-sin-dependencias/" title="Refactorizando tests unitarios hacia tests sin dependencias">aislar los objetos y funciones con l&oacute;gica de los objetos y funciones con interacci&oacute;n</a>, exactamente igual que har&iacute;amos en otras plataformas. De esta forma el comportamiento complejo queda encapsulado en objetos o funciones que no depende de angularjs para nada. </p> 
<p>En ocasiones, <strong>angularjs es excesivamente complejo y m&aacute;gico</strong>, y comprender lo que est&aacute; pasando requiere demasiado esfuerzo. Hay cosas que son inherentemente complejas y no queda m&aacute;s remedio que buscar la mejor forma de lidiar con esa complejidad, pero en angularjs se ha optado (como en muchos otros frameworks) por homogeneizar todos los casos. Esto hace que los casos complejos sean complejos y los casos simples… tambi&eacute;n; y acabes descendiendo a un mundo de <a href="http://stackoverflow.com/questions/15666048/angular-js-service-vs-provider-vs-factory">services, factories y providers</a>.</p> 
<p>Un ejemplo de esto son las directivas. Poder crear peque&ntilde;os “controles” de usuario es muy c&oacute;modo y ayuda a mantener la capa de presentaci&oacute;n organizada, pero las directivas permiten cubrir tantos escenarios que, en los escenarios m&aacute;s simples (y frecuentes) acaban siendo bastante complicadas de seguir. Cualquiera que haya escrito un plugin simple de jQuery y la directiva equivalente de angularjs sabe a lo que me refiero.</p> 
<p>Es muy f&aacute;cil <strong>terminar abusando del sistema de inyecci&oacute;n de dependencias</strong>. Podr&iacute;amos decir que esto es no culpa de angularjs sino de usarlo mal, pero lo cierto es que no es raro encontrar funciones que reciben demasiadas dependencias en casi todos los proyectos que he visto con angularjs. </p> 
<p>Al ser tan f&aacute;cil de usar y a&ntilde;adir nuevas dependencias, acabas teniendo muchas funciones que dependen de muchos servicios, y un sistema pensado originalmente para desacoplar componentes de la aplicaci&oacute;n consigue acoplar toda la aplicaci&oacute;n hasta l&iacute;mites insospechados. Utilizar <a href="http://blog.koalite.com/2012/04/inyeccion-de-dependencias-en-javascript-y-otros-lenguajes-dinamicos/">inyecci&oacute;n de dependencias manual</a> te hace detectar m&aacute;s f&aacute;cilmente este tipo de problemas y te ayuda a conseguir dise&ntilde;os m&aacute;s cohesivos.</p> 
<p>Ciertamente esto es algo que <a href="http://blog.koalite.com/2012/11/contenedores-ioc-%c2%bfbuenos-o-malos/" title="Contenedores IoC, &iquest;buenos o malos?">se podr&iacute;a achacar a cualquier contenedor de inversi&oacute;n de dependencias</a>, pero mientras que en otras plataformas parece que se empieza a tener m&aacute;s consciencia del problema, en angularjs todav&iacute;a queda bastante camino por recorrer.</p> 
<h3>Conclusiones</h3> 
<p>Escribir este post ahora, cuando han surgido unas cuantas voces cr&iacute;ticas con angularjs (por ejemplo, <a href="https://medium.com/@benastontweet/an-intervention-4535d835e836">&eacute;sta</a> y <a href="http://codeofrob.com/entries/you-have-ruined-javascript.html">&eacute;sta</a>), puede parecer ventajista, pero en realidad es la consecuencia l&oacute;gica de escribir sobre algo que <em>realmente</em> utilizas: con el tiempo tu opini&oacute;n sobre ello va cambiando (para bien o para mal) seg&uacute;n aprendes cosas nuevas.</p> 
<p>Muchos de los problemas que he descrito anteriormente se pueden achacar al mal uso de angularjs por nuestra parte, pero no creo que sean exclusivos de nuestra forma de trabajar. La mayor&iacute;a de c&oacute;digo basado en angularjs que puedes encontrar en internet adolece de problemas similares.</p> 
<p>Es verdad que angularjs es un framework bastante extensible y eso permite solventar parte de estos problemas y moldearlo hasta cierto punto para trabajar de una manera m&aacute;s independiente del framework, pero llega un momento en que sientes que est&aacute;s dando demasiadas vueltas para conseguir lo que quieres y que, tal vez, hubiese sido mejor no utilizar angularjs directamente.</p> 
<p>&iquest;Quiere todo esto decir que angularjs es un mal framework? Yo no dir&iacute;a tanto. Para una aplicaci&oacute;n CRUD en la que puedas resolver el 80% de la aplicaci&oacute;n con un par de directivas y un uso razonable de <a href="https://docs.angularjs.org/api/ngResource/service/$resource">$resource</a> para acceder a un API Rest, angularjs es una buena soluci&oacute;n. La cosa se complica cuando tienes una aplicaci&oacute;n con flujos de trabajo complejos, donde el sistema de rutas de angularjs empieza a ser un obst&aacute;culo; o cuando tienes reglas de negocio complicadas y los controladores/servicios no son la mejor forma de expresarlas.</p> 
<p>Lo que s&iacute; tengo claro es que, despu&eacute;s de haber adquirido m&aacute;s experiencia en el desarrollo de aplicaciones complejas con HTML5/JS, ahora mismo me plantear&iacute;a otras opciones antes que usar angularjs y buscar&iacute;a soluciones menos invasivas, que me permitiesen un control mayor sobre la arquitectura de la aplicaci&oacute;n sin necesidad de plegarla a las necesidades de un framework determinado.</p> 
<p><strong>Posts relacionados:</strong></p>
<ol> 
 <li><a href="http://blog.koalite.com/2013/05/angularjs-servicios-inyeccion-de-dependencias-y-modulos/" title="AngularJS: Servicios, Inyecci&oacute;n de Dependencias y M&oacute;dulos">AngularJS: Servicios, Inyecci&oacute;n de Dependencias y M&oacute;dulos</a></li> 
 <li><a href="http://blog.koalite.com/2013/10/angularjs-6-meses-despues/" title="AngularJS, 6 meses despu&eacute;s">AngularJS, 6 meses despu&eacute;s</a></li> 
 <li><a href="http://blog.koalite.com/2013/11/paso-de-parametros-entre-controladores-en-angularjs/" title="Paso de par&aacute;metros entre controladores en AngularJS">Paso de par&aacute;metros entre controladores en AngularJS</a></li> 
</ol>
<img src="http://feeds.feedburner.com/~r/KoalitesBlog/~4/hXjjOV_A6os" height="1" width="1" /></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados" st_title="AngularJS, gracias por los servicios prestados | Koalite"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><hr/></article></div><aside class="col-xs-12 col-sm-12 col-md-4"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo con tus amigos!</p><div class="social-networks"><!-- Facebook --><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="standard" data-href="http://www.blogstack.info/" class="fb-like"></div><!-- Google+ --><g:plusone size="standard" annotation="inline" href="http://www.blogstack.info/" width="310"></g:plusone></div></section><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/javascript/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta javascript</a></li></ul></section><div id="bigRectangle"></div><section id="lastPosts"></section><div class="row"><div class="col-xs-3 col-md-2"><div id="wideSkycraper"></div></div></div><section id="lastPosts_0"></section></aside></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2014
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 627,
      "url" : "http://www.blogstack.info/post/koalite/2014/06/angularjs-gracias-por-los-servicios-prestados"
    }
  ],
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "koalite",
      "name" : "Koalite"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      }
    }
  ]
]); });</script></body></html>