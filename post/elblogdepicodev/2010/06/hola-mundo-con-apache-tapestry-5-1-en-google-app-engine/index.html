<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-3)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-8" id="horizontalSkycraper"></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div></header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><nav role="navigation"><ul class="nav nav-pills menu"><li><a href="/">Inicio</a></li><li><a href="/archive">Archivo</a></li><li><a href="/faq">Preguntas frecuentes</a></li></ul></nav></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine"><span itemprop="headline">Hola mundo con Apache Tapestry (5.1) en Google App Engine</span></a></h2></header><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://elblogdepicodev.blogspot.com.es/">El blog de pico.dev</a>, <a href="http://elblogdepicodev.blogspot.com/2010/06/hola-mundo-con-apache-tapestry-51-en.html"><span itemprop="sameAs">entrada original</span></a></span></div><div><span datetime="2010-06-15T17:24" itemprop="datePublished">Publicado el martes, 15 de junio de 2010 a las 17:24 UTC</span></div><div><span datetime="2013-12-01T23:34" itemprop="dateModified">Actualizado el domingo, 01 de diciembre de 2013 a las 23:34 UTC</span></div><div><span>
Etiquetado como
<a href="/label/programacion"><span itemprop="articleSection">programacion</span></a>, <a href="/label/tapestry"><span itemprop="articleSection">tapestry</span></a>, <a href="/label/java"><span itemprop="articleSection">java</span></a>, <a href="/label/google"><span itemprop="articleSection">google</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="clear: both; text-align: center;">
 <img alt="Java" height="110" src="http://4.bp.blogspot.com/_9zOwWD_PYL8/TBeztET3lAI/AAAAAAAAAZ8/BP4VHrwEXTY/s320/java.png" title="Java" />&nbsp;&nbsp;&nbsp;
 <img alt="Apache Tapestry" src="http://3.bp.blogspot.com/_9zOwWD_PYL8/S-2l0Qxom1I/AAAAAAAAAOg/t4TfjsOh4WQ/s1600/tapestry-banner.gif" title="Apache Tapestry" />&nbsp;&nbsp;&nbsp;
 <img alt="Google App Engine" src="http://3.bp.blogspot.com/_9zOwWD_PYL8/TBezuYpe1NI/AAAAAAAAAaA/rszdHsAoPTo/s1600/appengine.gif" title="Google App Engine" />
</div>
<br />Este fin de semana he estado probando el servicio de hosting 
<a href="http://code.google.com/appengine/">Google App Engine</a> para aplicaciones web (GAE para los amigos). Y por el momento me ha dejado muy buen sabor de boca ya que he conseguido subir a la nube con este servicio sin excesibas dificultades la aplicaci&oacute;n 
<a href="http://elblogdepicodev.blogspot.com/2010/05/hola-mundo-con-apache-tapestry-5.html">Hola Mundo con Tapestry 5.1</a> que hice en un post anterior.
<br />
<br />Pero antes de ver el ejemplo vamos a hablar de las principales caracteristicas de este servicio. Dado que es un servicio de hosting lo principal que hay que tener en cuenta es que no estamos trabajando sobre un servidor propio sino que lo hacemos sobre la infraestructura y servidores que utiliza la propia Google para sus servicios y por tanto no podemos hacer cualquier cosa en &eacute;l sino que nos tenemos que limitar a usar las funcionalidades que nos ofrece y dentro de los l&iacute;mites que nos impone el entorno. Pero no nos asustemos, si se puede hacer funcionar un framework como Apache Tapestry dentro de &eacute;l, que no es un framework internamente sencillo, los l&iacute;mites son bastante amplios y con bastante probabilidad podremos trabajar con el framework o librer&iacute;as que m&aacute;s nos gusten. Tambi&eacute;n podemos optar por trabajar directamente con Servlets y JSPs si nuestra aplicaci&oacute;n es sencilla.
<br />
<br />El primer lenguaje soportado en GAE fue Python y posteriormente a&ntilde;adieron soporte para Java que le permite atraer a un mayor n&uacute;mero de programadores dado que Java es uno de los lenguajes de programaci&oacute;n m&aacute;s extendido en estos d&iacute;as. El soporte de Java no se limita al lenguaje Java unicamente sino que 
<a href="http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine">est&aacute;n soportados otros lenguajes</a>&nbsp;que se pueden ejecutar sobre la Java Virtual Machine (JVM) como Scala, Groovy o JRuby.
<br />
<br />Las aplicaciones GAE tienen unas 
<a href="http://code.google.com/intl/es/appengine/docs/quotas.html">cuotas</a> diarias de cantidad de datos de subida y de bajada, de tiempo de CPU, de n&uacute;mero de archivos, de tama&ntilde;o de datos almacenados en el servicio y algunos otros que no podremos sobrepasar con el servicio gratuito pero que 
<a href="http://code.google.com/intl/es/appengine/docs/billing.html">pagando se pueden ampliar</a> (que ser&aacute; la forma en que Google rentabilice el servicio).
<br />
<br />La herramienta a trav&eacute;s de la cual subiremos la aplicaci&oacute;n a GAE es el 
<a href="http://code.google.com/intl/es/appengine/downloads.html">App Engine SDK</a> que entre otras cosas incluye las librer&iacute;as que necesitaremos para compilar y un servidor que simula el entorno de la nube y con el cual podremos desarrollar en local.
<br />
<br />Para administrar las aplicaciones que subamos, GAE nos proporciona una 
<a href="http://appengine.google.com/">consola de administraci&oacute;n</a> desde la cual podremos ver los recursos que ha consumido cada aplici&oacute;n, peticiones realizadas, trazas, deshabilitar y habilitar la aplicaci&oacute;n, borrar versiones, etc... en resumen todo lo que necesitaremos a lo largo de la vida de la aplicaci&oacute;n.
<br />
<br />Los servicios que proporciona el entorno a las aplicaciones son por ahora:
<br />- Memcache: servicio de cache en memoria para acceso r&aacute;pido a la informaci&oacute;n.
<br />- Extracci&oacute;n de URL: para hacer peticiones mediante HTTP o HTTPS.
<br />- Correo: para enviar correos electr&oacute;nicos desde la aplicaci&oacute;n.
<br />- Im&aacute;genes: para manipular im&aacute;genes (rotar, escalar, recortar, ...).
<br />- Cuentas de Google: para autenticar a usuarios a trav&eacute;s de cuentas de Google.
<br />- Almacenamiento de datos: para almacenar de forma persistente datos en la aplicaci&oacute;n y realizar consultas sobre ellos.
<br />
<br />Para acabar con esta introducci&oacute;n, la idea de tener un servicio de hosting para aplicaciones Java me parece muy &uacute;til ya que muchos proveedores de hosting s&oacute;lo ofrecen soporte para PHP, Python, ASP o ASP.NET. 
<br />
<br />Vayamos a ver ahora lo que hay que tener en cuenta para desplegar una aplicaci&oacute;n con Apache Tapestry 5.1 en el Google App Engine. Partiendo de la aplicaci&oacute;n Hola Mundo que ya tenia desarrollada para hacerla funcionar en Tomcat, he tenido que realizar los siguientes cambios:
<br />
<br />-&nbsp;La p&aacute;ginas necesitan la clase Java para ser encontradas por el framework con lo que he a&ntilde;adido la clase con.blogspot.tapestry.helloworld.pages.Index que &uacute;nicamente contiene:
<br />
<br />
<div>
 <pre>package com.blogspot.elblogdepicodev.tapestry.helloWorld.pages;<br /><br />import org.apache.tapestry5.MarkupWriter;<br /><br />public class Index {<br /><br />}</pre>
</div>
<br />- Las&nbsp;librer&iacute;as&nbsp;que hay que incluir en el directorio WEB-INF/lib de la aplicaci&oacute;n web son muchas menos. Las que he necesitado incluir para que funcione el ejemplo son las siguientes:
<br />
<ul>
 <li>appengine-api-1.0-sdk-1.3.4.jar</li>
 <li>commons-codec-1.3.jar</li>
 <li>commons-fileupload-1.2.jar</li>
 <li>commons-io-1.3.jar</li>
 <li>commons-logging-1.1.1.jar</li>
 <li>javassist-3.9.0.GA.jar</li>
 <li>log4j-1.2.14.jar</li>
 <li>slf4j-api-1.5.2.jar</li>
 <li>slf4j-log4j12-1.5.2.jar</li>
 <li>stax-api-1.0.1.jar</li>
 <li>stax2-api-3.0.1.jar</li>
 <li>tapestry-core-5.1.0.5.jar</li>
 <li>tapestry-ioc-5.1.0.5.jar</li>
 <li>tapestry5-annotations-5.1.0.5.jar</li>
 <li>woodstox-core-asl-4.0.3.jar</li>
</ul>Aunque posiblemente de estas alguna no sea imprescidible y se pueda quitar y tal vez alguna falte para alguna funcionalidad. Para el ejemplo estas son suficientes.
<br />
<br />- Hay que incluir en el directorio WEB-INF el archivo appengine-web.xml (que es el descriptor de la aplicaci&oacute;n en GAE) donde indicaremos el identificativo de nuestra aplicaci&oacute;n a la que luego accederemos con la URL http://[application-id].appspot.com.
<br />
<br />Y eso es todo, lo dem&aacute;s se queda igual que estaba. Para subir la aplicaci&oacute;n primero tenemos que generar en nuestro sistema de archivos la estructura de archivos estandar de toda aplicaci&oacute;n web Java con nuestra herramienta de contrucci&oacute;n favorita, en el caso de este ejemplo he utilizado Ant para la construcci&oacute;n e Ivy para las dependencias. 
<br />
<br />
<div>
 <pre>$ ./ant.sh resolve package</pre>
</div>
<br />Y despues copiar manualmente la libreria appengine-api-1.0-sdk-1.3.4.jar del SDK del App Engine al directorio build/war/WEB-INF/lib.
<br />
<br />Una vez que tenemos los archivos listos los subimos con el siguiente comando, tambi&eacute;n nos sirve para cuando queramos subir alguna modificaci&oacute;n:
<br />
<br />
<div>
 <pre>$ $GAE_HOME/bin/appcfg.sh update src/main/webapp/</pre>
</div>
<br />Tambi&eacute;n la podemos probar en el servidor de pruebas local proporcionado en el SDK:
<br />
<br />
<div>
 <pre>$ $GAE_HOME/bin/dev_appserver.cmd src/main/webapp/</pre>
</div>
<br />No pongo capturas de pantalla porque aqu&iacute; ten&eacute;is la aplicaci&oacute;n funcionando en el App Engine&nbsp;
<a href="http://hello-world-tapestry5-gae.appspot.com/">http://hello-world-tapestry5-gae.appspot.com/</a>.
<br />
<br />Espero que alguno se anime a probar y usar este framework &nbsp;o le sirva de utilidad&nbsp;estas entradas que estoy publicando sobre Apache Tapestry.
<br />
<br />Enlaces:
<br />
<a href="http://elblogdepicodev.blogspot.com/2010/05/documentacion-sobre-apache-tapestry.html">Documentaci&oacute;n sobre Apache Tapestry</a>
<br />
<a href="https://github.com/picodotdev/elblogdepicodev/tree/master/HelloWorldTapestry5GAE">Codigo fuente ejemplo Hola Mundo con Apache Tapestry 5.1 en Google App Engine</a>
<br />
<br />Nota: Para obtener un 
<a href="https://github.com/picodotdev/elblogdepicodev/tree/master/HelloWorldTapestry5GAE">c&oacute;digo fuente m&aacute;s actualizado de esta aplicaci&oacute;n</a> a versiones superiores de las librer&iacute;as de Tapestry, del Google App Engine y utilizando Gradle puedes ver el repositorio en el enlace anterior de Github.
<br />
<div></div>
<br />
<a href="http://code.google.com/intl/es/appengine/docs/whatisgoogleappengine.html">&iquest;Que es el Google App Engine?</a>
<br />
<a href="http://code.google.com/appengine/docs/">Documentaci&oacute;n sobre Google App Engine</a></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine" st_title="Hola mundo con Apache Tapestry (5.1) en Google App Engine | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><a id="comments"></a><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "elblogdepicodev";
var disqus_title = "Hola mundo con Apache Tapestry (5.1) en Google App Engine";
var disqus_url = "http://elblogdepicodev.blogspot.com/2010/06/hola-mundo-con-apache-tapestry-51-en.html";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><aside class="col-xs-12 col-sm-12 col-md-4"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo con tus amigos!</p><div class="social-networks"><!-- Facebook --><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="standard" data-href="http://www.blogstack.info/" class="fb-like"></div><!-- Google+ --><g:plusone size="standard" annotation="inline" href="http://www.blogstack.info/" width="310"></g:plusone></div></section><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/programacion/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta programacion</a></li><li><a href="/label/tapestry/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta tapestry</a></li><li><a href="/label/java/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta java</a></li><li><a href="/label/google/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta google</a></li></ul></section><div id="bigRectangle"></div><section id="lastPosts"></section><div class="row"><div class="col-xs-3 col-md-2"><div id="wideSkycraper"></div></div></div><section id="lastPosts_0"></section></aside></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2014
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 183,
      "url" : "http://www.blogstack.info/post/elblogdepicodev/2010/06/hola-mundo-con-apache-tapestry-5-1-en-google-app-engine"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "elblogdepicodev",
      "name" : "El blog de pico.dev"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      },
      "ad" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      }
    }
  ]
]); });</script></body></html>