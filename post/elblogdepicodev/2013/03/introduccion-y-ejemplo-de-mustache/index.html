<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-3)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Introducción y ejemplo de Mustache | El blog de pico.dev</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-8" id="horizontalSkycraper"></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div></header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><nav role="navigation"><ul class="nav nav-pills menu"><li><a href="/">Inicio</a></li><li><a href="/archive">Archivo</a></li><li><a href="/faq">Preguntas frecuentes</a></li></ul></nav></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><header><h2><a href="/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache"><span itemprop="headline">Introducción y ejemplo de Mustache</span></a></h2></header><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://elblogdepicodev.blogspot.com.es/">El blog de pico.dev</a>, <a href="http://elblogdepicodev.blogspot.com/2013/03/introduccion-y-ejemplo-de-mustache.html"><span itemprop="sameAs">entrada original</span></a></span></div><div><span datetime="2013-03-22T17:04" itemprop="datePublished">Publicado el viernes, 22 de marzo de 2013 a las 17:04 UTC</span></div><div><span datetime="2013-05-03T19:29" itemprop="dateModified">Actualizado el viernes, 03 de mayo de 2013 a las 19:29 UTC</span></div><div><span>
Etiquetado como
<a href="/label/planeta-codigo"><span itemprop="articleSection">planeta-codigo</span></a>
,
<a href="/label/programacion"><span itemprop="articleSection">programacion</span></a>
,
<a href="/label/software"><span itemprop="articleSection">software</span></a>
,
<a href="/label/software-libre"><span itemprop="articleSection">software-libre</span></a>
,
<a href="/label/javascript"><span itemprop="articleSection">javascript</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_via="blogstack" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;">
 <br />
 <img alt="Mustache" height="96" src="http://3.bp.blogspot.com/-c5az8LIB6ko/UUyJKk-lvYI/AAAAAAAACc0/B46DEgkNjh0/s200/mustache.png" title="Mustache" width="200" />
</div>Como comentaba en la 
<a href="http://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-requirejs.html">Introducci&oacute;n y ejemplo sobre RequireJS</a> el lado cliente est&aacute;n tomando cada vez m&aacute;s responsabilidad y peso en las aplicaciones. El lado cliente con los navegadores ya no se limitan a mostrar el html que se genera en el servidor de forma din&aacute;mica sino que son ellos mismos que obteniendo los datos en formato JSON probablemente mediante un servicio REST se encarga de transformar esos datos en el html que finalmente se ha de mostrar en la p&aacute;gina. Generar el html en el cliente en vez de en el servidor tiene las siguientes ventajas:
<br />
<ul>
 <li>Se reduce la carga del servidor.</li>
 <li>La cantidad de datos devueltos es menor ya que el tama&ntilde;o de la plantilla y los datos podr&aacute;n ser menor que el html final generado por la combinaci&oacute;n de ambos si una plantilla puede aplicarse varias veces sobre alguna lista de los datos.</li>
</ul>Para transformar esos datos al html mediante una plantilla hay diferentes librer&iacute;as que proporcionan esa funcionalidad entre ellas 
<a href="http://mustache.github.com/">Mustache</a> y 
<a href="http://handlebarsjs.com/">Handlebars</a>. Mustache es m&aacute;s simple que Hadlebars y Handlebars es un superconjunto de Mustache por lo que si tenemos una plantilla en Mustache podremos utilizarla en Handlebars. En esta entrada comentar&eacute; un ejemplo simple y sencillo con las posibilidades de Mustache.
<br />
<br />Mustache se caracteriza por su simplicidad evitando incluir l&oacute;gica en las plantillas, es decir, sin sentencias if y bucles aunque algunas etiquetas proporcionan la misma funcionalidad. El hecho de no incluir l&oacute;gica en las plantillas hace que estas sean sencillas, f&aacute;ciles de desarrollar y de mantener adem&aacute;s de obligar a no mezclar conceptos lo que hace que el c&oacute;digo sea &laquo;limpio&raquo;.
<br />
<br />La esencia de Mustache al igual que otros sistemas de plantillas es que por un lado tenemos los datos que forman parte del modelo y por otro lado la plantilla que forma parte de la vista, juntando ambos obtenemos un resultado.
<br />
<br />Veamos como se traduce todo esto en c&oacute;digo javascript. Lo primero y m&aacute;s sencillo son las variables que en la plantilla se indican entre {{ }}, estos corchetes con forma de mostacho le dan nombre a la librer&iacute;a, la variable es sustituida por el valor proporcionado en el modelo:
<br />
<br />
<script src="https://gist.github.com/picodotdev/5222740.js?file=main-1.js"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5222740/raw/main-1.js">main-1.js</a>
 <br />
</noscript>
<br />
<h4>Secciones</h4>Otra posibilidad de Mustache con las secciones que se indican con un # delante de la variable. Si la variable de una secci&oacute;n es false, tiene valor null o es un array vacio, esa secci&oacute;n se omite en el resultado. De esta forma una secci&oacute;n puede hacer de lo que en un lenguaje de programaci&oacute;n ser&iacute;a una condici&oacute;n.
<br />
<br />
<script src="https://gist.github.com/picodotdev/5222740.js?file=main-2.js"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5222740/raw/main-2.js">main-2.js</a>
 <br />
</noscript>
<br />
<h4>Secciones lista</h4>En el caso de hacer una secci&oacute;n en el que la variable sea una array o lista, la secci&oacute;n recorrer&aacute; cada uno de los elementos de la lista y generar&aacute; un contenido por cada elemento. Esto nos proporciona la funcionalidad de un bucle.
<br />
<br />
<script src="https://gist.github.com/picodotdev/5222740.js?file=main-3.js"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5222740/raw/main-3.js">main-3.js</a>
 <br />
</noscript>
<br />
<h4>Parciales</h4>Si no queremos tener una plantilla muy grande o queremos rehusar cierta parte en varias plantillas la podemos dividir usando parciales. Los parciales se indican con el caracter &gt; y son una forma de llamar a un trozo de una plantilla. En la plantilla los parciales son sustituidos por su correspondiente c&oacute;digo del mapa de parciales y la plantilla se procesa como si fuese una completa. Este es el mismo ejemplo de la secci&oacute;n lista pero usando parciales:
<br />
<br />
<script src="https://gist.github.com/picodotdev/5222740.js?file=main-4.js"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5222740/raw/main-4.js">main-4.js</a>
 <br />
</noscript>
<br />
<h4>Compilaci&oacute;n</h4>Para una mayor eficiencia sobre todo en dispositivos m&oacute;viles las plantillas pueden compilarse con:
<br />
<br />
<script src="https://gist.github.com/picodotdev/5222740.js?file=main-5.js"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5222740/raw/main-5.js">main-5.js</a>
 <br />
</noscript>
<br />Esto es lo b&aacute;sico de Mustache, tiene alguna posibilidad m&aacute;s como las funciones donde se puede a&ntilde;adir algo de l&oacute;gica, tambi&eacute;n est&aacute;n las secciones invertidas que se indican con ^ y generan resultado si la variable de la secci&oacute;n es null, false o vac&iacute;a, es decir, lo contrario de una secci&oacute;n normal. Por defecto los caracteres html de una variable son escapados pero puede evitarse con tres llaves {{{ }}} o un &amp; antes del nombre de la variable. Tambi&eacute;n puede cambiarse el delimitador de Muchache, los {{ }}, por otra cadena pero ser&aacute; poco habitual que lo necesitemos.
<br />
<br />La otra alternativa que comentaba es Handlebars con la que si tenemos una plantilla de Mustache podemos utilizarla en Handlebars sin ning&uacute;n cambio ya que Handlebars soporta todas las caracter&iacute;sticas de Mustache y a&ntilde;ade algunas otras. Las principales diferencias entre Mustache y Handlebars es que Mustache puede ser usada desde diferentes lenguajes como Java, Python, Ruby, D, .NET, PHP, y alguno m&aacute;s que puede verse en la p&aacute;gina del proyecto, Handlebars solo se puede utilizar usando javascript. Dado que Mustache puede ser utilizado con Java puede ser una alternativa a librer&iacute;as como 
<a href="http://freemarker.sourceforge.net/">FreeMarker</a> de esta manera podemos hacer uso de la misma librer&iacute;a de plantillas tanto en el servidor como en el cliente de forma que evitemos tener que aprender y conocer varias tecnolog&iacute;as que hacen lo mismo y aprovechemos mejor lo que conocemos. Otra diferencia es que Handlebars a&ntilde;ade el concepto de funciones de ayuda (&laquo;helpers&raquo;) mediante los cuales se puede a&ntilde;adir l&oacute;gica si nos es necesario y aunque puede facilitarnos ciertas tareas no conviene abusar de ello ya que puede hacer que las plantillas dejen de ser tan simples y empiecen a no ser f&aacute;ciles de mantener.
<br />
<br />El 
<a href="https://github.com/picodotdev/elblogdepicodev/tree/master/HelloWorldMustache">c&oacute;digo fuente completo de este ejemplo</a> los puedes encontrar en mi repositorio de GitHub.
<br />
<br />Referencia:
<br />
<br />
<a href="http://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-requirejs.html">Introducci&oacute;n y ejemplo de RequireJS</a>
<br />
<a href="http://elblogdepicodev.blogspot.com.es/2013/03/logging-en-javascript-con-log4javascript.html">Logging en Javascript con log4javascript</a>
<br />
<a href="http://elblogdepicodev.blogspot.com.es/2013/04/capturar-errores-de-javascript.html">Capturar errores de Javascript</a>
<br />
<div>
 <a href="http://elblogdepicodev.blogspot.com.es/2013/04/optimizar-modulos-de-requirejs.html">Optimizar m&oacute;dulos de RequireJS y archivos Javascript</a>
 <br />
 <a href="http://elblogdepicodev.blogspot.com/2013/04/introduccion-y-ejemplo-de-backbonejs.html">Introducci&oacute;n y ejemplo de Backbone.js</a>
 <br />
 <a href="http://elblogdepicodev.blogspot.com.es/2013/04/ejemplo-lista-de-tareas-con-backbone.html">Ejemplo lista de tareas con Backbone, RESTEasy y Tapestry</a>
 <br />
 <a href="http://ejemplo%20de%20pruebas%20unitarias%20en%20javascript%20con%20jasmine%20y%20sinon/">Ejemplo de pruebas unitarias en javascript con Jasmine y Sinon</a>
</div></span></div><section><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_via="blogstack" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache" st_title="Introducción y ejemplo de Mustache | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "elblogdepicodev";
var disqus_title = "Introducción y ejemplo de Mustache";
var disqus_url = "http://elblogdepicodev.blogspot.com/2013/03/introduccion-y-ejemplo-de-mustache.html";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><aside class="col-xs-12 col-sm-12 col-md-4"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo con tus amigos!</p><div class="social-networks"><!-- Facebook --><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="standard" data-href="http://www.blogstack.info/" class="fb-like"></div><!-- Google+ --><g:plusone size="standard" annotation="inline" href="http://www.blogstack.info/" width="310"></g:plusone></div></section><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/planeta-codigo/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta planeta-codigo</a></li><li><a href="/label/programacion/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta programacion</a></li><li><a href="/label/software/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software</a></li><li><a href="/label/software-libre/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software-libre</a></li><li><a href="/label/javascript/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta javascript</a></li></ul></section><div id="bigRectangle"></div><section id="lastPosts"></section><div class="row"><div class="col-xs-3 col-md-2"><div id="wideSkycraper"></div></div></div><section id="lastPosts_0"></section></aside></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2014
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 60,
      "url" : "http://www.blogstack.info/post/elblogdepicodev/2013/03/introduccion-y-ejemplo-de-mustache"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "elblogdepicodev",
      "name" : "El blog de pico.dev"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlotHorizontalSkycraper" : "1397019380",
        "adSlotBigRectangle" : "2873752587",
        "adSlotWideSkycraper" : "1896546988"
      }
    }
  ]
]); });</script></body></html>