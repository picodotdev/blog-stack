<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-16)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Copia de seguridad con rsync | El blog de pico.dev</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/feed.atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><script type="text/javascript">document.write("<div class=\"pageloading-mask\"><div></div></div>");</script><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-6"><nav role="navigation"><ul class="list-unstyled list-inline"><li><a class="header" href="/">Inicio</a></li><li><a class="header" href="/archive">Archivo</a></li><li><a class="header" href="/faq">Preguntas frecuentes</a></li><li><a class="header" href="/faq#aggregate">¿Quieres agregar tu bitácora?</a></li></ul></nav></div><div class="col-xs-6 col-sm-6 col-md-2"><a title="Fuente RSS, ¡suscríbete a BS!" alt="Fuente RSS" class="header" href="/feed.atom.xml"><span class="header icon entypo"></span></a><a title="Twitter, ¡sigue a BS!" alt="Twitter" class="header" href="http://twitter.com/blogstackinfo"><span class="header icon entypo-social"></span></a></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="imagen-cabecera"><div class="imagen"><div class="col-xs-12 col-sm-12 col-md-12" id="billboard"></div></div></div></div></div></div></header><div class="container-fluid content"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync"><span itemprop="headline">Copia de seguridad con rsync</span></a></h2></header><div class="row labels"><div class="col-md-12"><a class="label" href="/label/software-libre"><img title="software-libre" alt="software-libre" src="/assets/images/labels/software-libre.png"/></a><a class="label" href="/label/arch-linux"><img title="arch-linux" alt="arch-linux" src="/assets/images/labels/arch-linux.png"/></a><a class="label" href="/label/gnome"><img title="gnome" alt="gnome" src="/assets/images/labels/gnome.png"/></a></div></div><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://elblogdepicodev.blogspot.com.es/">El blog de pico.dev</a>, <a href="http://elblogdepicodev.blogspot.com/2013/05/copia-de-seguridad-con-rsync.html"><span itemprop="sameAs">artículo original</span></a></span></div><div><span datetime="2013-05-18T22:56" itemprop="dateModified">Actualizado el sábado, 18 de mayo de 2013 a las 22:56 UTC</span></div><div><span>
Etiquetado como
planeta-codigo, <a href="/label/gnome"><span itemprop="articleSection">gnome</span></a>, planeta-arch-linux, planeta-linux, <a href="/label/arch-linux"><span itemprop="articleSection">arch-linux</span></a>, <a href="/label/software-libre"><span itemprop="articleSection">software-libre</span></a>, gnulinux</span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="clear: both; text-align: center;"></div>
<div style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;">
 <img alt="rsync" src="http://4.bp.blogspot.com/-1FNpz4Bxpmk/UZZKifID5cI/AAAAAAAACg8/lFMm3-3F9MA/s1600/rsync.jpg" title="rsync" />
</div>Las copias de seguridad son imprescindibles, si alguien piensa que no es que nunca se le ha estropeado el ordenador ya sea porque ha fallado el hardware o por una actualizaci&oacute;n que ha corrompido el sistema de arranque o peor por que el disco duro se ha estropeado, eso o no tiene datos importantes que tener a buen recaudo. Si a&uacute;n no te ha pasado que se haya estropeado el ordenador y te has quedado sin esa informaci&oacute;n que no quieres perder quiz&aacute; hayas tenido suerte pero has de saber que tarde o temprano te pasar&aacute; y para no perder esa informaci&oacute;n los &laquo;backups&raquo; son imprescindibles.
<br />
<br />Una vez que tener copias de seguridad nos parece importante y tenemos respondida la pregunta de por qu&eacute;, se nos plantean algunas otras preguntas:
<br />
<ul>
 <li>&iquest;De que hacer copias de seguridad?</li>
 <li>&iquest;Cada cuanto hacer copias de seguridad?</li>
 <li>&iquest;Que caracter&iacute;sticas han de tener las copias de seguridad?</li>
 <li>&iquest;En que medio guardar las copias?</li>
 <li>&iquest;Como hacer las copias de seguridad?</li>
 <li>Y tan importantes como las anteriores, &iquest;como recuperar los datos?</li>
</ul>Cada pregunta tiene diferentes respuestas seg&uacute;n el usuario, entorno o la informaci&oacute;n de la que hacer las copias de seguridad. A la pregunta de que hacer copias de seguridad cada uno deber&aacute; conocer que informaci&oacute;n no quiere perder en caso de desastre, cuanto cambian los datos y que se perder&iacute;a en un periodo de tiempo (d&iacute;a, semana, mes, ...), si las copias deben estar comprimidas para ahorrar espacio o cifradas y finalmente dependiendo de algunas respuestas anteriores que herramienta o herramientas usar.
<br />
<br />Yo hasta ahora no usaba ninguna herramienta usaba el simple y manual m&eacute;todo de copiar y pegar archivos del disco duro del ordenador a un disco duro externo. Cuando no ten&iacute;a disco duro externo las copias de seguridad las hac&iacute;a en CD y DVD pero hacerlas en un medio &oacute;ptico como los anteriores no los recomiendo porque son lentos de realizar, en estos d&iacute;as no tienen capacidad suficiente para guardar todo y por tanto deberemos tener varios vol&uacute;menes y finalmente lo m&aacute;s importante porque son unos medios poco fiables. Dado el precio y capacidad que tienen hoy en d&iacute;a los discos duros USB externos adem&aacute;s de su velocidad de transferencia es m&aacute;s recomendable esta opci&oacute;n y es la que a d&iacute;a de hoy uso. Pero a&uacute;n con un disco duro externo el m&eacute;todo de copiar y pegar tarda un buen tiempo y sigue siendo lento, con 70 GiB de archivos personales que no quiero perder, pero tambi&eacute;n el hecho de hacerlo manualmente es propenso a que alg&uacute;n d&iacute;a se me olvide hacer la copia de seguridad de todo y por la ley de Murphy ese d&iacute;a fallar&aacute; el ordenador. Con lo que con esta situaci&oacute;n he empezado a buscar alternativas a mi m&eacute;todo manual de copiar y pegar.
<br />
<br />Empece probando 
<a href="https://launchpad.net/deja-dup">D&eacute;j&agrave; Dup</a> pero no me ha convencido porque las copias de seguridad las guarda en un formato comprimido (y cifrado si se quiere) de modo que para recuperar los archivos se ha de utilizar la misma herramienta. Para mi una de las caracter&iacute;sticas de la copia de seguridad es que siga pudiendo tener accesibles los archivos independientemente de la herramienta. Viendo las posibilidades de los&nbsp;
<a href="https://wiki.archlinux.org/index.php/Backup_Programs">programas de copia de seguridad</a>&nbsp;disponibles en Linux por la que me he decantado ha sido 
<a href="http://rsync.samba.org/">rsync</a>. Es un m&eacute;todo simple que mantiene sincronizados el contenido de dos carpetas, copiando los nuevos archivos, borrando los eliminados y solo actualizando los necesarios adem&aacute;s de poder hacerse las copias entre dos m&aacute;quinas diferentes a trav&eacute;s de la red. Mediante rsync para hacer una copia de seguridad ahora tardo mucho menos ya que solo se copian los archivos que hayan cambiado adem&aacute;s de estar automatizado con un script con lo que resulta m&aacute;s f&aacute;cil y por ello se pueden hacer m&aacute;s a menudo.
<br />
<br />Con el siguiente comando de 
<a href="https://www.archlinux.org/packages/?name=rsync">rsync</a>&nbsp;se puede hacer una copia de seguridad de una carpeta a otra:
<br />
<br />
<script src="https://gist.github.com/picodotdev/5599846.js?file=script-1.sh"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5599846/raw/script-1.sh">script-1.sh</a>
 <br />
</noscript> La opci&oacute;n -a es una meta opci&oacute;n de utilidad que engloba otras con las m&aacute;s comunes para hacer copias de seguridad, -P hace que se muestre el progreso, --delete borra los archivos en la carpeta de destino que se hayan borrado en la carpeta origen.
<br />
<br />Otro ejemplo para copiar varias carpetas de la carpeta home de un usuario es, con la opci&oacute;n --files-from, hay que indicar tambi&eacute;n la opci&oacute;n -r para que las carpetas se copien de forma recursiva:
<br />
<br />
<script src="https://gist.github.com/picodotdev/5599846.js?file=script-2.sh"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5599846/raw/script-2.sh">script-2.sh</a>
 <br />
</noscript> 
<script src="https://gist.github.com/picodotdev/5599846.js?file=backup-files-from.txt"></script>
<noscript>
 <a href="https://gist.github.com/picodotdev/5599846/raw/backup-files-from.txt">backup-files-from.txt</a>
 <br />
</noscript> Este simple comando ahorra mucho tiempo ya que con &eacute;l no hay que copiar los XXX GiB cada vez que hay que hacer un copia de seguridad, solo se copiar&aacute; lo que haya cambiado entre la copia de seguridad y el origen, que muy probablemente es una cantidad mucho menor que esos XXX GiB. Con lo simple que es se me hace extra&ntilde;o que haya pasado tanto tiempo haciendo las copias de seguridad manualmente.
<br />
<br />Si quieres algunas otros ejemplos de uso de 
<a href="https://wiki.archlinux.org/index.php/Rsync">rsync</a> como por ejemplo el como programar las copias de seguridad con cron o quieres conocer otras herramientas en la 
<a href="https://wiki.archlinux.org/index.php/Backup_Programs">wiki de Arch Linux</a> tienes unas cuantas m&aacute;s, algunas con interfaz gr&aacute;fica.
<br />
<br />Referencia:
<br />
<a href="https://wiki.archlinux.org/index.php/Backup_Programs">https://wiki.archlinux.org/index.php/Backup_Programs</a>
<br />
<a href="https://wiki.archlinux.org/index.php/Rsync">https://wiki.archlinux.org/index.php/Rsync</a></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync" st_title="Copia de seguridad con rsync | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><a id="comments"></a><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "elblogdepicodev";
var disqus_title = "Copia de seguridad con rsync";
var disqus_url = "http://elblogdepicodev.blogspot.com/2013/05/copia-de-seguridad-con-rsync.html";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><div class="col-xs-12 col-sm-12 col-md-4"><aside><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/gnome/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta gnome</a></li><li><a href="/label/arch-linux/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta arch-linux</a></li><li><a href="/label/software-libre/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta software-libre</a></li></ul></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigRectangle"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo!</p><div class="social-networks"><!-- Facebook --><div class="social-network"><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="box_count" data-href="http://www.blogstack.info/" class="fb-like"></div></div><!-- Google+ --><div class="social-network"><div class="g-plusone" data-href="http://www.blogstack.info/" data-size="tall"></div></div></div></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts"></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigSkycraper"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts_0"></section></div></div></aside></div></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a> en <a href="https://github.com/picodotdev/blog-stack">GitHub <span class="entypo-social"></span></a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2015
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 52,
      "url" : "http://www.blogstack.info/post/elblogdepicodev/2013/05/copia-de-seguridad-con-rsync"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "elblogdepicodev",
      "name" : "El blog de pico.dev"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlot" : "1397019380"
      },
      "ad" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlot" : "1397019380"
      }
    }
  ]
]); });</script></body></html>