<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-16)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Herramienta de construcción Gradle | El blog de pico.dev</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/feed.atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><script type="text/javascript">document.write("<div class=\"pageloading-mask\"><div></div></div>");</script><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-6"><nav role="navigation"><ul class="list-unstyled list-inline"><li><a class="header" href="/">Inicio</a></li><li><a class="header" href="/archive">Archivo</a></li><li><a class="header" href="/faq">Preguntas frecuentes</a></li><li><a class="header" href="/faq#aggregate">¿Quieres agregar tu bitácora?</a></li></ul></nav></div><div class="col-xs-6 col-sm-6 col-md-2"><a title="Fuente RSS, ¡suscríbete a BS!" alt="Fuente RSS" class="header" href="/feed.atom.xml"><span class="header icon entypo"></span></a><a title="Twitter, ¡sigue a BS!" alt="Twitter" class="header" href="http://twitter.com/blogstackinfo"><span class="header icon entypo-social"></span></a></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="imagen-cabecera"><div class="imagen"><div class="col-xs-12 col-sm-12 col-md-12" id="billboard"></div></div></div></div></div></div></header><div class="container-fluid content"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle"><span itemprop="headline">Herramienta de construcción Gradle</span></a></h2></header><div class="row labels"><div class="col-md-12"><a class="label" href="/label/programacion"><img title="programacion" alt="programacion" src="/assets/images/labels/programacion.png"/></a><a class="label" href="/label/java"><img title="java" alt="java" src="/assets/images/labels/java.png"/></a><a class="label" href="/label/tapestry"><img title="tapestry" alt="tapestry" src="/assets/images/labels/tapestry.png"/></a></div></div><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">pico.dev</span> en la bitácora <a href="http://elblogdepicodev.blogspot.com.es/">El blog de pico.dev</a>, <a href="http://elblogdepicodev.blogspot.com/2012/03/herramienta-de-construccion-gradle.html"><span itemprop="sameAs">artículo original</span></a></span></div><div><span datetime="2013-02-21T19:30" itemprop="dateModified">Actualizado el jueves, 21 de febrero de 2013 a las 19:30 UTC</span></div><div><span>
Etiquetado como
planeta-codigo, <a href="/label/programacion"><span itemprop="articleSection">programacion</span></a>, <a href="/label/tapestry"><span itemprop="articleSection">tapestry</span></a>, <a href="/label/java"><span itemprop="articleSection">java</span></a></span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><div style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;">
 <img alt="Gradle" height="88" src="http://1.bp.blogspot.com/-yE7Fw4P1zHE/T2zOQaIyDBI/AAAAAAAABFI/2AcLgy31ryI/s320/gradle.gif" title="Gradle" width="320" />
</div>
<a href="http://gradle.org/">Gradle</a> es una de las muchas herramientas que existen para construir proyectos de forma automatizada pero tiene unas cuantas ventajas sobre otras que se han estado utilizado ampliamente hasta el momento como 
<a href="http://ant.apache.org/">Ant</a> y 
<a href="http://maven.apache.org/">Maven</a> en el mundo Java.
<br />
<br />Primero vamos a ver los problemas de Ant y Maven. El problema de Ant es que para definir las tareas a ejecutar para la construcci&oacute;n del proyecto se utiliza XML y usar XML para describir las acciones de las tareas da resultado ficheros grandes y de dif&iacute;cil mantenimiento en cuanto el problema de la construcci&oacute;n es complicado. Otro problema es que Ant no tiene la noci&oacute;n de dependencias por lo que tendremos que descargarlas una a una, si posteriormente actualizamos a una nueva versi&oacute;n tendremos que volver revisar manualmente las dependencias que tengamos. Usando Ant con 
<a href="http://ant.apache.org/ivy/">Ivy</a> puede superarse esa dificultad. Por otra parte si tenemos varios proyectos relacionados y que dependen unos de otros la construcci&oacute;n de los mismos con Ant quiz&aacute; no sea la herramienta m&aacute;s adecuada a d&iacute;a de hoy. A parte de esos problemas con Ant tendremos la sensaci&oacute;n no solo de estar programando nuestro proyecto sino tambi&eacute;n la herramienta para la construcci&oacute;n del mismo.
<br />
<br />Maven trata de solucionar varios defectos de Ant. En &eacute;l se pueden definir las dependencias de un proyecto y Maven se encargar&aacute; de descargarlas de forma autom&aacute;tica incluyendo las dependencias que tengan estas a su vez, es decir, realizando la obtenci&oacute;n de las mismas de forma transitiva. Adem&aacute;s por defecto establece una serie de convenciones en cuanto a estructura de carpetas y sin que al contrario de Ant tengamos que describirla. Pero el problema de Maven empieza cuando necesitamos personalizar nuestra construcci&oacute;n llegando incluso a ser peor que en el caso de Ant. Los plugins de Maven suelen estar poco y mal documentados y tratar de hacer lo que queremos puede ser frustante y una p&eacute;rdida de tiempo.
<br />
<br />Gradle tiene varias de las ventajas de ambos sin poseer ninguna de sus desventajas comentadas. Posee la personalizaci&oacute;n de Ant, y la automatizaci&oacute;n de dependencias y convenciones de Maven adem&aacute;s de un mejor soporte para la construcci&oacute;n de varios proyectos relacionados. Un de las primeras diferencias es que en vez de XML utiliza Groovy, un lenguaje mucho m&aacute;s adaptado a la tarea. Si estamos acostumbrados a Ant la migraci&oacute;n no nos ser&aacute; muy complicada ya que desde Gradle podremos usar las tareas de Ant pero de una forma m&aacute;s c&oacute;moda que en XML al usar Groovy como lenguaje pudiendo incluso llamar a targets definidos en archivos XML de Ant. Una de las pegas que tiene es que es un poco lento en su inicializaci&oacute;n y tal vez para tareas que usamos mucho y necesitamos que se ejecuten r&aacute;pido sea m&aacute;s adecuado definirlas en Ant&nbsp;(con la opci&oacute;n --daemon de Gradle se soluciona en gran medida). Con tan solo definir el siguiente archivo estaremos listos para construir un proyecto web Java, en este caso para un proyecto Tapestry que utilice Hibernate, Quartz, FreeMarker, Java Mail, Groovy, HtmlUnit y Mockito:
<br />
<br />
<div>
 <pre>description = 'Tapestry Project'<br />version = '0.0.1'<br /><br />apply plugin: 'eclipse'<br />apply plugin: 'java'<br />apply plugin: 'groovy'<br />apply plugin: 'war'<br /><br />// Propiedades de configuraci&oacute;n<br />//Eclipse<br />downloadJavadoc = true<br /><br />// Java<br />sourceCompatibility = 1.6<br /><br />repositories { <br /> flatDir name: 'Local', dirs: 'misc/lib'<br /> mavenRepo name: 'Apache (Staging)', url: 'https://repository.apache.org/content/groups/staging/'<br /> mavenRepo name: 'JBoss', url: 'https://repository.jboss.org/nexus/content/repositories/releases/'<br /> mavenRepo name: 'Java', url: 'http://download.java.net/maven/2/'<br />    mavenCentral()<br />}<br /><br />dependencies {<br /> compile 'org.apache.tapestry:tapestry5-annotations:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-core:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-beanvalidator:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-hibernate-core:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-hibernate:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-func:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-ioc:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-javadoc:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-jmx:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-json:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-test:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-upload:5.3.2'<br /> compile 'org.apache.tapestry:tapestry-yuicompressor:5.3.2'<br /><br /> compile 'org.hibernate:hibernate-core:3.6.8.Final'<br /> compile 'org.hibernate:hibernate-ehcache:3.6.8.Final'<br /> compile 'org.hibernate:hibernate-validator:4.2.0.Final'<br /><br /> compile 'org.quartz-scheduler:quartz:2.1.0'<br /> compile 'org.freemarker:freemarker:2.3.18'<br /> compile 'org.apache.commons:commons-lang3:3.0'<br /><br /> providedCompile 'javax.servlet:servlet-api:2.5'<br /> providedCompile 'javax.mail:mail:1.4.4'<br /><br /> groovy 'org.codehaus.groovy:groovy-all:1.8.3'<br /><br /> // Test<br /> testCompile 'junit:junit:4.8.2'<br /> testCompile 'net.sourceforge.htmlunit:htmlunit:2.9'<br /><br /> testCompile 'org.mockito:mockito-all:1.9.0'<br />}<br /></pre>
</div>
<br />Incluyendo los plugins de gradle eclipse, java, groovy y war algunas de las tareas que disponemos son:
<br />
<br />
<ul>
 <li>eclipse: Genera los archivos para poder importar el proyecto en eclipse incluyendo todas las dependencias del proyecto.</li>
 <li>clean: limpia los archivos tenporales creados por gralde en la ejecuci&oacute;n de las tareas.</li>
 <li>classes: compila los archivos fuente de java, adem&aacute;s haciendo uso del plugin de java tambien se compilan los archivos de codigo fuente de groovy.</li>
 <li>javadoc: crea la documentaci&oacute;n de javadoc de los archivos del proyecto.</li>
 <li>jar: crea un jar con los archivos fuente de java.</li>
 <li>war: crea un war del proyecto.</li>
</ul>
<br />Para ver la estructura de directorios consultar la documentaci&oacute;n de cada uno de los plugins:
<br />
<br />
<ul>
 <li>java: <a href="http://www.gradle.org/current/docs/userguide/java_plugin.html">http://www.gradle.org/current/docs/userguide/java_plugin.html</a></li>
 <li>groovy: <a href="http://www.gradle.org/current/docs/userguide/groovy_plugin.html">http://www.gradle.org/current/docs/userguide/groovy_plugin.html</a></li>
 <li>war: <a href="http://www.gradle.org/current/docs/userguide/war_plugin.html">http://www.gradle.org/current/docs/userguide/war_plugin.html</a></li>
</ul>
<br />La cantidad de plugins para gradle va en aumento. Algunos de los m&aacute;s &uacute;tiles son: checkstyle, codenarc, pmd, tomcat, jetty.
<br />
<br />Para instalarlo basta con descargar sus binarios, descompromirlos en una carpeta y crear una variable de entorno para $GRADLE_HOME. Una vez hecho esto su uso es similar al de ant y maven, nos colocamos en el directorio donde est&aacute; el archivo .gradle y ejecutamos:
<br />
<br />
<div>
 <pre>$GRADLE_HOME/bin/gradle [tarea]</pre>
</div>
<br />Si queremos tener una experiencia de uso m&aacute;s agradable con gradle es muy &uacute;til usar su modo demonio ya que de otra manera tarda en cargarse bastantes segundos, si lo usamos cada poco tiempo y muchas veces aunque luego el tiempo de las propias tareas sea poco notaremos que perdemos tiempo esperando. Para evitarlo a&ntilde;adimos el par&aacute;metro --daemon, notaremos mucha diferencia respecto a lo se tarda en cargarse sin &eacute;l y la ejecuci&oacute;n de nuestras peque&ntilde;as tareas ser&aacute;n mucho m&aacute;s r&aacute;pidas.
<br />
<br />
<div>
 <pre>$GRADLE_HOME/bin/gradle --daemon [tarea]</pre>
</div>
<br />
<div style="clear: both; text-align: center;">
 <a href="http://2.bp.blogspot.com/-70HwjPv4UZQ/T2zRxLgkKjI/AAAAAAAABFU/BqRyIubri8Y/s1600/gradle-daemon.png"><img height="205" src="http://2.bp.blogspot.com/-70HwjPv4UZQ/T2zRxLgkKjI/AAAAAAAABFU/BqRyIubri8Y/s320/gradle-daemon.png" width="320" /></a>
</div>
<br />La diferencia es notable de casi 12 segundos a casi 5, un poco menos de la mitad.
<br />
<br />Referencia:
<br />
<a href="http://www.gradle.org/">http://www.gradle.org/</a>
<br />
<a href="http://www.gradle.org/current/docs/userguide/userguide.html">http://www.gradle.org/current/docs/userguide/userguide.html</a>
<br />
<a href="http://elblogdepicodev.blogspot.com.es/2012/04/usar-gradle-mediante-gradle-wrapper.html">Usar Gradle mediante Gradle wrapper</a>
<br />
<br />
<a href="http://ant.apache.org/">http://ant.apache.org/</a>
<br />
<a href="http://maven.apache.org/">http://maven.apache.org/</a>
<br />
<a href="http://ant.apache.org/ivy/">http://ant.apache.org/ivy/</a></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle" st_title="Herramienta de construcción Gradle | El blog de pico.dev"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><section><a id="comments"></a><h1>Comentar</h1><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = "elblogdepicodev";
var disqus_title = "Herramienta de construcción Gradle";
var disqus_url = "http://elblogdepicodev.blogspot.com/2012/03/herramienta-de-construccion-gradle.html";
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a></section><hr/></article></div><div class="col-xs-12 col-sm-12 col-md-4"><aside><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section><h3>¡Suscríbete!</h3><ul class="list-unstyled"><li><a href="/label/programacion/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta programacion</a></li><li><a href="/label/tapestry/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta tapestry</a></li><li><a href="/label/java/feed.atom.xml"><span class="fa fa-rss"></span> Fuente de la etiqueta java</a></li></ul></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigRectangle"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo!</p><div class="social-networks"><!-- Facebook --><div class="social-network"><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="box_count" data-href="http://www.blogstack.info/" class="fb-like"></div></div><!-- Google+ --><div class="social-network"><div class="g-plusone" data-href="http://www.blogstack.info/" data-size="tall"></div></div></div></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts"></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigSkycraper"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts_0"></section></div></div></aside></div></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a> en <a href="https://github.com/picodotdev/blog-stack">GitHub <span class="entypo-social"></span></a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2015
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 111,
      "url" : "http://www.blogstack.info/post/elblogdepicodev/2012/03/herramienta-de-construccion-gradle"
    }
  ],
  "app/disqus",
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "elblogdepicodev",
      "name" : "El blog de pico.dev"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlot" : "1397019380"
      },
      "ad" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlot" : "1397019380"
      }
    }
  ]
]); });</script></body></html>