<!DOCTYPE html><html data-debug-enabled="true" data-locale="es_ES" xmlns="http://www.w3.org/1999/xhtml"><head><meta content="Apache Tapestry Framework (version 5.4-beta-16)" name="generator"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta pagina="Post"/><title>Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria</title><!-- Resources --><link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,700"/><link type="text/css" rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"/><link title="Portada" type="application/atom+xml" rel="alternate" href="/feed.atom.xml"/><link type="image/png" rel="icon" href="/assets/images/favicon.png"/><meta content="Post" name="tapestry-page-name"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/bootstrap/css/bootstrap.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/exception-frame.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tapestry-console.css"/><link type="text/css" rel="stylesheet" href="/assets/tapestry5/tree.css"/><link type="text/css" rel="stylesheet" href="/assets/css/core.css"/></head><body data-page-initialized="false"><script type="text/javascript">document.write("<div class=\"pageloading-mask\"><div></div></div>");</script><header><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-4"><h1><a class="blogstack" href="/"><span class="glyphicon glyphicon-th"></span> Blog <span class="stack">Stack</span></a></h1></div><div class="col-xs-12 col-sm-12 col-md-6"><nav role="navigation"><ul class="list-unstyled list-inline"><li><a class="header" href="/">Inicio</a></li><li><a class="header" href="/archive">Archivo</a></li><li><a class="header" href="/faq">Preguntas frecuentes</a></li><li><a class="header" href="/faq#aggregate">¿Quieres agregar tu bitácora?</a></li></ul></nav></div><div class="col-xs-6 col-sm-6 col-md-2"><a title="Fuente RSS, ¡suscríbete a BS!" alt="Fuente RSS" class="header" href="/feed.atom.xml"><span class="header icon entypo"></span></a><a title="Twitter, ¡sigue a BS!" alt="Twitter" class="header" href="http://twitter.com/blogstackinfo"><span class="header icon entypo-social"></span></a></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><h4>Un poco más que un agregador/planeta de bitácoras sobre programación, desarrollo, software libre, gnu/linux, tecnología, ...</h4></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="imagen-cabecera"><div class="imagen"><div class="col-xs-12 col-sm-12 col-md-12" id="billboard"></div></div></div></div></div></div></header><div class="container-fluid content"><div class="row"><div class="col-xs-12 col-sm-12 col-md-8 content"><article itemtype="http://schema.org/BlogPosting" itemscope=""><a id="content"></a><header><h2><a href="/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c"><span itemprop="headline">Concurrencia, POSIX threads y variables compartidas en C</span></a></h2></header><section class="post-data"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div><span>Escrito por <span itemprop="author">Gaspar Fernández</span> en la bitácora <a href="http://totaki.com/poesiabinaria/">Poesía binaria</a>, <a href="http://totaki.com/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c/"><span itemprop="sameAs">artículo original</span></a></span></div><div><span datetime="2014-01-17T09:08" itemprop="datePublished">Publicado el viernes, 17 de enero de 2014 a las 09:08 UTC</span></div><div><span>
Etiquetado como
datos, semaforos, compartida, mutex, concurrencia, variable, espera, c-c, thread, struct</span></div></div></div></section><div class="text-justify post-content"><div class="share-this only-twitter"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><span itemprop="name"><p><a href="http://totaki.com/poesiabinaria/wp-content/plugins/wordpress-feed-statistics/feed-statistics.php?url=aHR0cDovL3RvdGFraS5jb20vcG9lc2lhYmluYXJpYS93cC1jb250ZW50L3VwbG9hZHMvMjAxNC8wMS9zaGFyZS5qcGc="><img src="http://totaki.com/poesiabinaria/wp-content/uploads/2014/01/share.jpg" alt="" title="share" width="500" height="384" /></a><br /> Hace poco ve&iacute;amos c&oacute;mo empezar a hacer <a href="http://totaki.com/poesiabinaria/wp-content/plugins/wordpress-feed-statistics/feed-statistics.php?url=aHR0cDovL3RvdGFraS5jb20vcG9lc2lhYmluYXJpYS8yMDE0LzAxL3BpbmNlbGFkYXMtZGUtY29uY3VycmVuY2lhLXktaGVsbG8td29ybGQtdXNhbmRvLXB0aHJlYWRzLw==">nuestros primeros programas multi-thread utilizando POSIX threads</a>. Aunque pronto surge una nueva necesidad: compartir datos entre el proceso principal y el thread que se ha creado, al menos para decirle qu&eacute; queremos que haga. Para eso podemos utilizar el &uacute;ltimo argumento de la funci&oacute;n pthread_create(), el cu&aacute;l es un puntero a void, por lo que podemos pasar cualquier tipo de variable. Por ejemplo un n&uacute;mero:</p> 
<div style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:300px;">
 <table>
  <tbody>
   <tr>
    <td>
     <div>
      1
      <br />2
      <br />3
      <br />4
      <br />5
      <br />6
      <br />7
      <br />8
      <br />9
      <br />10
      <br />11
      <br />12
      <br />13
      <br />14
      <br />15
      <br />16
      <br />17
      <br />18
      <br />19
      <br />20
      <br />21
      <br />22
      <br />23
      <br />24
      <br />25
      <br />26
      <br />27
      <br />28
      <br />29
      <br />30
      <br />
     </div></td>
    <td>
     <div style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">
      #include &lt;stdio.h&gt;
      <br /> #include &lt;stdlib.h&gt;
      <br /> #include &lt;pthread.h&gt;
      <br /> 
      <br /> void *newtask(void *_number)
      <br /> {
      <br /> &nbsp; int number = *(int*)_number;
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;The number I was asked for: %d\n&quot;, number);
      <br /> &nbsp; pthread_exit(NULL);
      <br /> }
      <br /> 
      <br /> int main (int argc, char *argv[])
      <br /> {
      <br /> &nbsp; &nbsp;pthread_t thread;
      <br /> &nbsp; &nbsp;int rc;
      <br /> &nbsp; &nbsp;int i;
      <br /> &nbsp; &nbsp;int number = 99;
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process just started.\n&quot;);
      <br /> &nbsp; &nbsp;rc = pthread_create(&amp;thread, NULL, newtask, &amp;number);
      <br /> &nbsp; &nbsp;if (rc)
      <br /> &nbsp; &nbsp; &nbsp;{
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;ERROR in pthread_create(): %d\n&quot;, rc);
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/exit.html">exit</a>(-1);
      <br /> &nbsp; &nbsp; &nbsp;}
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process about to finish.\n&quot;);
      <br /> &nbsp; &nbsp;/* Last thing that main() should do */
      <br /> &nbsp; &nbsp;pthread_exit(NULL);
      <br /> }
     </div></td>
   </tr>
  </tbody>
 </table>
</div> 
<p>Recordad que hay que compilar utilizando pthread:</p> 
<blockquote>
 <p>$ gcc -o simplepass simplepass.c -lpthread</p>
</blockquote> 
<p>De esta forma, el thread puede leer el valor que le hemos pasado desde number como veremos si ejecutamos el programa. Justo al empezar la funci&oacute;n newtask(), extraemos el n&uacute;mero desde el puntero a void _number. Aunque si cambiamos un poco el c&oacute;digo, nos damos cuenta de que tambi&eacute;n podemos escribir en la variable number para que el proceso principal pueda leer lo que ha escrito el thread secundario que hemos lanzado. (En lugar de esto, se puede utilizar una variable global, ya que el thread principal y el secundario comparten la zona de datos, esto es totalmente posible, pero no me gusta crear variables globales):</p> 
<div style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:300px;">
 <table>
  <tbody>
   <tr>
    <td>
     <div>
      1
      <br />2
      <br />3
      <br />4
      <br />5
      <br />6
      <br />7
      <br />8
      <br />9
      <br />10
      <br />11
      <br />12
      <br />13
      <br />14
      <br />15
      <br />16
      <br />17
      <br />18
      <br />19
      <br />20
      <br />21
      <br />22
      <br />23
      <br />24
      <br />25
      <br />26
      <br />27
      <br />28
      <br />29
      <br />30
      <br />31
      <br />32
      <br />33
      <br />34
      <br />35
      <br />
     </div></td>
    <td>
     <div style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">
      #include &lt;stdio.h&gt;
      <br /> #include &lt;stdlib.h&gt;
      <br /> #include &lt;pthread.h&gt;
      <br /> 
      <br /> void *newtask(void *_number)
      <br /> {
      <br /> &nbsp; int *number = _number;
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;The number I was asked for: %d\n&quot;, *number);
      <br /> &nbsp; *number = 10;
      <br /> &nbsp; pthread_exit(NULL);
      <br /> }
      <br /> 
      <br /> int main (int argc, char *argv[])
      <br /> {
      <br /> &nbsp; &nbsp;pthread_t thread;
      <br /> &nbsp; &nbsp;int rc;
      <br /> &nbsp; &nbsp;int i;
      <br /> &nbsp; &nbsp;int number = 99;
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process just started.\n&quot;);
      <br /> &nbsp; &nbsp;rc = pthread_create(&amp;thread, NULL, newtask, &amp;number);
      <br /> &nbsp; &nbsp;if (rc)
      <br /> &nbsp; &nbsp; &nbsp;{
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;ERROR in pthread_create(): %d\n&quot;, rc);
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/exit.html">exit</a>(-1);
      <br /> &nbsp; &nbsp; &nbsp;}
      <br /> 
      <br /> &nbsp; &nbsp;usleep(100000);
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot; Before exiting. Number = %d\n&quot;, number);
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process about to finish.\n&quot;);
      <br /> &nbsp; &nbsp;/* Last thing that main() should do */
      <br /> &nbsp; &nbsp;pthread_exit(NULL);
      <br /> }
     </div></td>
   </tr>
  </tbody>
 </table>
</div> 
<p>Ahora bien, si queremos pasar m&uacute;ltiples variables al thread que vamos a crear, podemos perfectamente crear un struct que contenga toda la informaci&oacute;n:</p> 
<div style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:300px;">
 <table>
  <tbody>
   <tr>
    <td>
     <div>
      1
      <br />2
      <br />3
      <br />4
      <br />5
      <br />6
      <br />7
      <br />8
      <br />9
      <br />10
      <br />11
      <br />12
      <br />13
      <br />14
      <br />15
      <br />16
      <br />17
      <br />18
      <br />19
      <br />20
      <br />21
      <br />22
      <br />23
      <br />24
      <br />25
      <br />26
      <br />27
      <br />28
      <br />29
      <br />30
      <br />31
      <br />32
      <br />33
      <br />34
      <br />35
      <br />36
      <br />37
      <br />38
      <br />39
      <br />40
      <br />41
      <br />42
      <br />43
      <br />44
      <br />45
      <br />46
      <br />47
      <br />48
      <br />
     </div></td>
    <td>
     <div style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">
      #include &lt;stdio.h&gt;
      <br /> #include &lt;stdlib.h&gt;
      <br /> #include &lt;pthread.h&gt;
      <br /> #include &lt;string.h&gt;
      <br /> 
      <br /> struct thread_vars_t
      <br /> {
      <br /> &nbsp; int number;
      <br /> &nbsp; char string[50];
      <br /> };
      <br /> 
      <br /> void *newtask(void *_number)
      <br /> {
      <br /> &nbsp; struct thread_vars_t *vars = _number;
      <br /> 
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;The number I was asked for: %d\n&quot;, vars-&gt;number);
      <br /> &nbsp; vars-&gt;number = 10;
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/strcpy.html">strcpy</a>(vars-&gt;string, &quot;Hello world from thread&quot;);
      <br /> &nbsp; pthread_exit(NULL);
      <br /> }
      <br /> 
      <br /> int main (int argc, char *argv[])
      <br /> {
      <br /> &nbsp; &nbsp;pthread_t thread;
      <br /> &nbsp; &nbsp;int rc;
      <br /> &nbsp; &nbsp;int i;
      <br /> &nbsp; &nbsp;struct thread_vars_t *vars = 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html">malloc</a> (sizeof(struct thread_vars_t));
      <br /> 
      <br /> 
      <br /> &nbsp; &nbsp;vars-&gt;number = 99;
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process just started.\n&quot;);
      <br /> &nbsp; &nbsp;rc = pthread_create(&amp;thread, NULL, newtask, vars);
      <br /> &nbsp; &nbsp;if (rc)
      <br /> &nbsp; &nbsp; &nbsp;{
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;ERROR in pthread_create(): %d\n&quot;, rc);
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/exit.html">exit</a>(-1);
      <br /> &nbsp; &nbsp; &nbsp;}
      <br /> 
      <br /> &nbsp; &nbsp;usleep(100000);
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot; Before exiting. Number = %d\n&quot;, vars-&gt;number);
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot; Before exiting. String = %s\n&quot;, vars-&gt;string);
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process about to finish.\n&quot;);
      <br /> &nbsp; &nbsp;/* Last thing that main() should do */
      <br /> &nbsp; &nbsp;pthread_exit(NULL);
      <br /> }
     </div></td>
   </tr>
  </tbody>
 </table>
</div> 
<p>En ordenadores m&aacute;s lentos, tal vez tengamos que aumentar el valor de usleep(), estoy simulando una espera, aunque esto bien pod&iacute;a ser el establecimiento de un valor. Aunque esto ya supone un problema,tenemos que variar el valor de la espera dependiendo de las capacidades del ordenador, aunque podemos solucionarlo de diferentes maneras. La primera de ellas, como muestra de algo que <strong>no debemos hacer</strong> es utilizar una espera activa:</p> 
<div style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;height:300px;">
 <table>
  <tbody>
   <tr>
    <td>
     <div>
      1
      <br />2
      <br />3
      <br />4
      <br />5
      <br />6
      <br />7
      <br />8
      <br />9
      <br />10
      <br />11
      <br />12
      <br />13
      <br />14
      <br />15
      <br />16
      <br />17
      <br />18
      <br />19
      <br />20
      <br />21
      <br />22
      <br />23
      <br />24
      <br />25
      <br />26
      <br />27
      <br />28
      <br />29
      <br />30
      <br />31
      <br />32
      <br />33
      <br />34
      <br />35
      <br />36
      <br />37
      <br />38
      <br />39
      <br />40
      <br />41
      <br />42
      <br />43
      <br />44
      <br />45
      <br />46
      <br />47
      <br />48
      <br />49
      <br />50
      <br />
     </div></td>
    <td>
     <div style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">
      #include &lt;stdio.h&gt;
      <br /> #include &lt;stdlib.h&gt;
      <br /> #include &lt;pthread.h&gt;
      <br /> #include &lt;string.h&gt;
      <br /> 
      <br /> struct thread_vars_t
      <br /> {
      <br /> &nbsp; int ready;
      <br /> &nbsp; int number;
      <br /> &nbsp; char string[50];
      <br /> };
      <br /> 
      <br /> void *newtask(void *_number)
      <br /> {
      <br /> &nbsp; struct thread_vars_t *vars = _number;
      <br /> 
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;The number I was asked for: %d\n&quot;, vars-&gt;number);
      <br /> &nbsp; vars-&gt;number = 10;
      <br /> &nbsp; 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/strcpy.html">strcpy</a>(vars-&gt;string, &quot;Hello world from thread&quot;);
      <br /> &nbsp; vars-&gt;ready = 1;
      <br /> &nbsp; pthread_exit(NULL);
      <br /> }
      <br /> 
      <br /> int main (int argc, char *argv[])
      <br /> {
      <br /> &nbsp; &nbsp;pthread_t thread;
      <br /> &nbsp; &nbsp;int rc;
      <br /> &nbsp; &nbsp;int i;
      <br /> &nbsp; &nbsp;struct thread_vars_t *vars = 
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html">malloc</a> (sizeof(struct thread_vars_t));
      <br /> 
      <br /> &nbsp; &nbsp;vars-&gt;ready = 0;
      <br /> &nbsp; &nbsp;vars-&gt;number = 99;
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process just started.\n&quot;);
      <br /> &nbsp; &nbsp;rc = pthread_create(&amp;thread, NULL, newtask, vars);
      <br /> &nbsp; &nbsp;if (rc)
      <br /> &nbsp; &nbsp; &nbsp;{
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a>(&quot;ERROR in pthread_create(): %d\n&quot;, rc);
      <br /> &nbsp; &nbsp; &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/exit.html">exit</a>(-1);
      <br /> &nbsp; &nbsp; &nbsp;}
      <br /> 
      <br /> &nbsp; &nbsp;// &nbsp; usleep(100000);
      <br /> &nbsp; &nbsp;while (!vars-&gt;ready);
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot; Before exiting. Number = %d\n&quot;, vars-&gt;number);
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot; Before exiting. String = %s\n&quot;, vars-&gt;string);
      <br /> 
      <br /> &nbsp; &nbsp;
      <a href="http://www.opengroup.org/onlinepubs/009695399/functions/printf.html">printf</a> (&quot;Main process about to finish.\n&quot;);
      <br /> &nbsp; &nbsp;/* Last thing that main() should do */
      <br /> &nbsp; &nbsp;pthread_exit(NULL);
      <br /> }
     </div></td>
   </tr>
  </tbody>
 </table>
</div> 
<p>En este caso hemos puesto una variable (vars-&gt;ready) que cuando sea 1 significar&aacute; que los datos est&aacute;n definidos, y eso lo har&aacute; el thread secundario, pero el principal por su parte tiene un bucle para quedarse quieto mientras vars-&gt;ready vale 0:</p> 
<div style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;">
 <table>
  <tbody>
   <tr>
    <td>
     <div>
      1
      <br />
     </div></td>
    <td>
     <div style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap">
      while (!vars-&gt;ready);
     </div></td>
   </tr>
  </tbody>
 </table>
</div> 
<p>Aunque esto tiene un gran problema: el proceso estar&aacute; comiendo recursos de sistema mientras la condici&oacute;n no se cumpla, podemos verlo desde cualquier gestor de tareas, si por ejemplo ponemos un sleep(20) en el thread secundario justo antes de vars-&gt;ready=1, es m&aacute;s si lo pensamos bien, si el thread secundario est&aacute; haciendo alg&uacute;n tipo de procesamiento para el c&aacute;lculo de esos valores, y el thread principal tiene este tipo de espera activa, el principal estar&aacute; entorpeciendo al secundario y haci&eacute;ndole m&aacute;s lento, por lo que tendremos que buscar otro tipo de soluci&oacute;n como sem&aacute;foros, se&ntilde;ales o mutex entre otras. Que quedar&aacute;n para otro post.</p> 
<p>Foto: <a href="http://totaki.com/poesiabinaria/wp-content/plugins/wordpress-feed-statistics/feed-statistics.php?url=aHR0cDovL3d3dy5mbGlja3IuY29tL3Bob3Rvcy80NzI2NDg2NkBOMDAvODQ3ODQ1MDI0My9pbi9waG90b2xpc3QtZFZkZ1NCLWVVc3QxWC1tWUN6Si00ZEVpcGItYlZoc29kLWZwZEdSRy1mcGVrcWgtZnBla291LWZKVkppTi1mSkRkakstZkpEZGFYLWZKVko3RS1mSlZIc3ctZkpWSnQ1LWRZS1pjUi1ldERnY28tNVpSTGhYLWZNUGVjNC03eWNIN2ItYW9SRWg5LWFaNVVyRC03eThTcVQtYkVnTW43LWZwV3JxTS1lVURQU1ktYjh6eU56LWVNYmlZdy02TGlMb3ItZmlXM0dVLTh6YmFFUC03R1Q5QUItZmlGUUtWLTNSNUhjLWFyb3NUUi1lUWd2Q3ItNXRwNW5rLWE1VUcydi00VGhXdnUtNFRkR0VjLWZmM3hBOC03MTNkUlgtZmYzeHlWLWZpTkE4Yy1maU5BOFgtZmlOQTc2LTZtOEJTdS04emJhRjYtZVB1REJ5LWVSeFFvRC1maUZReDQtZmlGUURC">OakleyOriginals</a> (Flickr) CC-by</p> 
<div>
 <iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Ftotaki.com%2Fpoesiabinaria%2F2014%2F01%2Fconcurrencia-posix-threads-y-variables-compartidas-en-c%2F&amp;layout=standard&amp;show_faces=true&amp;width=500&amp;action=like&amp;font=segoe+ui&amp;colorscheme=light&amp;height=80" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:80px;"></iframe>
</div> 
<img src="http://totaki.com/poesiabinaria/wp-content/plugins/wordpress-feed-statistics/feed-statistics.php?view=1&amp;post_id=2211" width="1" height="1" style="display: none;" />
<p>La entrada <a href="http://totaki.com/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c/">Concurrencia, POSIX threads y variables compartidas en C</a> aparece primero en <a href="http://totaki.com/poesiabinaria">Poes&iacute;a Binaria</a>.</p></span></div><section><a id="share"></a><h1>Compartir</h1><div class="share-this"><span displayText="Tweet" class="st_twitter_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span><span displayText="Facebook" class="st_facebook_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span><span displayText="Google +" class="st_googleplus_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span><span displayText="LinkedIn" class="st_linkedin_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span><span displayText="Meneame" class="st_meneame_vcount" st_url="http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c" st_title="Concurrencia, POSIX threads y variables compartidas en C | Poesía binaria"></span></div><script src="http://w.sharethis.com/button/buttons.js" type="text/javascript"></script><script type="text/javascript">stLight.options({publisher: "ur-3b2014fd-82e-9968-7e00-5ee51fb88bb2", doNotHash: true, doNotCopy: true, hashAddressBar: false});</script><div id="widget"></div></section><hr/></article></div><div class="col-xs-12 col-sm-12 col-md-4"><aside><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigRectangle"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section><h3>Redes sociales</h3><p>¿Te gusta Blog Stack? ¡Compártelo!</p><div class="social-networks"><!-- Facebook --><div class="social-network"><div data-share="true" data-show-faces="false" data-action="like" data-width="310" data-layout="box_count" data-href="http://www.blogstack.info/" class="fb-like"></div></div><!-- Google+ --><div class="social-network"><div class="g-plusone" data-href="http://www.blogstack.info/" data-size="tall"></div></div></div></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts"></section></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div id="bigSkycraper"></div></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><section id="lastPosts_0"></section></div></div></aside></div></div></div><footer><div class="container-fluid"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="footer"><a href="/">Blog Stack</a> por <a href="https://twitter.com/picodotdev/">pico.dev</a> está publicado bajo la licencia de software libre <a href="http://www.gnu.org/licenses/agpl-3.0.html">GNU Affero General Public</a> en <a href="https://github.com/picodotdev/blog-stack">GitHub <span class="entypo-social"></span></a>.<br/>
El contenido agregado conserva la licencia de su bitácora.<br/>
«Powered by» <a href="https://github.com/picodotdev/blogstack">Blog Stack</a>, <a href="http://tapestry.apache.org/">Apache Tapestry</a>, <a href="https://www.openshift.com/">OpenShift</a>, <a href="https://pages.github.com/">GitHub Pages</a>, <a href="http://www.oracle.com/es/technologies/java/overview/index.html">Java</a> y más software libre o de código abierto, inspirado en <a href="http://octopress.org/">Octopress</a>.<br/><span class="copyleft">©</span> pico.dev 2015
</div></div></div></div></footer><div id="fb-root"></div><script type="text/javascript">var require = {
  "waitSeconds" : 300,
  "shim" : {
    "t5/core/typeahead" : [
      "jquery"
    ],
    "bootstrap/affix" : [
      "bootstrap/transition"
    ],
    "bootstrap/alert" : [
      "bootstrap/transition"
    ],
    "bootstrap/modal" : [
      "bootstrap/transition"
    ],
    "bootstrap/tab" : [
      "bootstrap/transition"
    ],
    "bootstrap/transition" : [
      "jquery"
    ],
    "bootstrap/button" : [
      "bootstrap/transition"
    ],
    "bootstrap/scrollspy" : [
      "bootstrap/transition"
    ],
    "bootstrap/collapse" : [
      "bootstrap/transition"
    ],
    "bootstrap/dropdown" : [
      "bootstrap/transition"
    ],
    "bootstrap/tooltip" : [
      "bootstrap/transition"
    ],
    "bootstrap/carousel" : [
      "bootstrap/transition"
    ],
    "bootstrap/popover" : [
      "bootstrap/tooltip"
    ]
  },
  "baseUrl" : "/modules"
};
</script><script src="/assets/tapestry5/require.js" type="text/javascript"></script><script src="/assets/tapestry5/underscore-1.5.2.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/prototype.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/scriptaculous.js" type="text/javascript"></script><script src="/assets/tapestry5/scriptaculous_1_9_0/effects.js" type="text/javascript"></script><script src="/assets/tapestry5/t53-compatibility.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery.js" type="text/javascript"></script><script src="/assets/tapestry5/jquery-noconflict.js" type="text/javascript"></script><script type="text/javascript">require(["t5/core/pageinit"], function(pi) { pi([], [
  "app/analytics",
  [
    "app/karmacracy:init",
    {
      "selector" : "#widget",
      "id" : 429,
      "url" : "http://www.blogstack.info/post/poesiabinaria/2014/01/concurrencia-posix-threads-y-variables-compartidas-en-c"
    }
  ],
  "app/facebook",
  "app/googleplus",
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts",
      "source" : "poesiabinaria",
      "name" : "Poesía binaria"
    }
  ],
  [
    "app/lastPosts:init",
    {
      "id" : "lastPosts_0",
      "source" : "blogstack",
      "name" : "Blog Stack"
    }
  ],
  [
    "app/adsensem:init",
    {
      "blogstack" : {
        "adClient" : "ca-pub-3533636310991304",
        "adSlot" : "1397019380"
      }
    }
  ]
]); });</script></body></html>